
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Empezando con MongoDB Part.II</title>
  <link rel="stylesheet" href="../../assets/css/screen.css?v=5d1841124f">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli:400,400i,700,700i,800">

  <script>
    var siteUrl = 'http://manuelviera.com';
  </script>
  <script>
  var themeOptions = {
    disqus_shortname: '',
    search_key: '',
    search_migration: 'v1',
    white_logo: '',
    white_icon: '',
  };
</script>
  <script>
    var localTheme = localStorage.getItem('dawn_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>

  <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="Manuel Viera">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Empezando con MongoDB Part.II">
    <meta property="og:description" content="En mi anterior post hablaba sobre cómo empezar con MongoDB, una base de datos NoSQL orientada a documentos; y como sigo estudiándola y me parece interesante, me gustaría seguir compartiendo y profundizando sobre el uso de MongoDB, así que he decidido escribir una segunda parte de este anterior post.  El">
    <meta property="og:url" content="http://manuelviera.com/blog/empezando-con-mongodb-part-ii/">
    <meta property="article:published_time" content="2013-03-02T00:00:00.000Z">
    <meta property="article:modified_time" content="2020-06-14T15:55:30.000Z">
    <meta property="article:tag" content="tech">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Empezando con MongoDB Part.II">
    <meta name="twitter:description" content="En mi anterior post hablaba sobre cómo empezar con MongoDB, una base de datos NoSQL orientada a documentos; y como sigo estudiándola y me parece interesante, me gustaría seguir compartiendo y profundizando sobre el uso de MongoDB, así que he decidido escribir una segunda parte de este anterior post.  El">
    <meta name="twitter:url" content="http://manuelviera.com/blog/empezando-con-mongodb-part-ii/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Manuel Viera">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="tech">
    <meta name="twitter:site" content="@mviera">
    <meta name="twitter:creator" content="@mviera">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Manuel Viera",
        "url": "http://manuelviera.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "http://manuelviera.com/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "Manuel Viera",
        "image": {
            "@type": "ImageObject",
            "url": "http://manuelviera.com/content/images/2020/06/2020-06-22-161222_428x430_scrot.png",
            "width": 428,
            "height": 430
        },
        "url": "http://manuelviera.com/author/mviera/",
        "sameAs": [
            "https://manuelviera.com",
            "https://twitter.com/mviera"
        ]
    },
    "headline": "Empezando con MongoDB Part.II",
    "url": "http://manuelviera.com/blog/empezando-con-mongodb-part-ii/",
    "datePublished": "2013-03-02T00:00:00.000Z",
    "dateModified": "2020-06-14T15:55:30.000Z",
    "keywords": "tech",
    "description": "En mi anterior post [/blog/empezando-con-mongodb/] hablaba sobre cómo empezar\ncon MongoDB [/blog/empezando-con-mongodb/], una base de datos NoSQL orientada a\ndocumentos; y como sigo estudiándola y me parece interesante, me gustaría seguir\ncompartiendo y profundizando sobre el uso de MongoDB, así que he decidido\nescribir una segunda parte de este anterior post.\n\nEl objetivo de este post es bien sencillo. Cubrirá las operaciones principales\nbásicas de MongoDB, también conocidas como operaciones CR",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://manuelviera.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.19">
    <link rel="alternate" type="application/rss+xml" title="Manuel Viera" href="../rss/index.html">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;0,900;1,400;1,700&amp;display=swap">
</head>
<body class="post-template tag-tech">
  <svg width="0" height="0" style="display: none;">
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="arrow-left">
    <title>arrow-left</title>
    <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="arrow-right">
    <title>arrow-right</title>
    <path d="M5.333 14.667v2.667h16L14 24.667l1.893 1.893L26.453 16 15.893 5.44 14 7.333l7.333 7.333h-16z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="brightness-2">
    <title>brightness-2</title>
    <path d="M13.333 2.667c-2.427 0-4.707.667-6.667 1.8 4 2.307 6.667 6.6 6.667 11.533s-2.667 9.227-6.667 11.533c1.96 1.133 4.24 1.8 6.667 1.8 7.36 0 13.333-5.973 13.333-13.333S20.693 2.667 13.333 2.667z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="chevron-left">
    <title>chevron-left</title>
    <path d="M20.547 22.107L14.44 16l6.107-6.12L18.667 8l-8 8 8 8 1.88-1.893z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="chevron-right">
    <title>chevron-right</title>
    <path d="M11.453 22.107L17.56 16l-6.107-6.12L13.333 8l8 8-8 8-1.88-1.893z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="circle-half-full">
    <title>circle-half-full</title>
    <path d="M16 2.667c-7.36 0-13.333 5.973-13.333 13.333s5.973 13.333 13.333 13.333c7.36 0 13.333-5.973 13.333-13.333s-5.973-13.333-13.333-13.333zM16 5.333c5.893 0 10.667 4.773 10.667 10.667s-4.773 10.667-10.667 10.667v-21.333z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="dots-horizontal">
    <title>dots-horizontal</title>
    <path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="facebook-box">
    <title>facebook-box</title>
    <path d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zM24 6.667h-3.333A4.672 4.672 0 0 0 16 11.334v3.333h-2.667v4H16V28h4v-9.333h4v-4h-4V12c0-.733.6-1.333 1.333-1.333H24v-4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="facebook">
    <title>facebook</title>
    <path d="M22.667 2.667V8H20c-.92 0-1.333 1.08-1.333 2v3.333h4v5.333h-4v10.667h-5.333V18.666h-4v-5.333h4V8a5.332 5.332 0 0 1 5.333-5.333h4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 40 40" id="loader">
    <title>loader</title>
    <path opacity="0.3" fill="currentColor" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path>
    <path fill="currentColor" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z">
      <animatetransform attributetype="xml" attributename="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatcount="indefinite"></animatetransform>
    </path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="magnify">
    <title>magnify</title>
    <path d="M12.667 4a8.667 8.667 0 0 1 8.667 8.667c0 2.147-.787 4.12-2.08 5.64l.36.36h1.053l6.667 6.667-2 2-6.667-6.667v-1.053l-.36-.36a8.689 8.689 0 0 1-5.64 2.08C7.88 21.334 4 17.454 4 12.667S7.88 4 12.667 4zm0 2.667c-3.333 0-6 2.667-6 6s2.667 6 6 6 6-2.667 6-6-2.667-6-6-6z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="menu-down">
    <title>menu-down</title>
    <path d="M9.333 13.333L16 20l6.667-6.667H9.334z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="rss-box">
    <title>rss-box</title>
    <path d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zM10 20c-1.107 0-2 .893-2 2s.893 2 2 2 2-.893 2-2-.893-2-2-2zm-2-6.667V16c4.413 0 8 3.587 8 8h2.667c0-5.893-4.773-10.667-10.667-10.667zM8 8v2.667c7.36 0 13.333 5.973 13.333 13.333H24c0-8.84-7.16-16-16-16z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="star">
    <title>star</title>
    <path d="M16 23.027L24.24 28l-2.187-9.373 7.28-6.307-9.587-.827-3.747-8.827-3.747 8.827-9.587.827 7.267 6.307L7.759 28l8.24-4.973z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" id="table-of-contents">
    <path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="twitter-box">
    <title>twitter-box</title>
    <path d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zm16.946 8.44c.64-.533 1.387-1.173 1.72-1.88-.547.28-1.2.453-1.92.547.667-.48 1.213-1.107 1.493-1.96-.693.373-1.4.693-2.28.853-2.067-2.493-7.013-.467-6.133 3.267-3.48-.213-5.6-1.787-7.36-3.72-1 1.627-.133 4.093 1.053 4.773-.613-.04-1.08-.227-1.52-.44.053 2.053 1.187 3.04 2.773 3.573a4.47 4.47 0 0 1-1.52.04c.493 1.427 1.52 2.32 3.28 2.507-1.2 1.013-3.413 1.72-5.2 1.44 1.533.973 3.28 1.747 5.707 1.64 5.88-.267 9.813-4.48 9.907-10.64z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="twitter">
    <title>twitter</title>
    <path d="M29.947 8a11.423 11.423 0 0 1-3.28.92 5.738 5.738 0 0 0 2.507-3.173 11.52 11.52 0 0 1-3.627 1.4C24.494 6 23.014 5.334 21.334 5.334c-3.133 0-5.693 2.56-5.693 5.72 0 .453.053.893.147 1.307A16.261 16.261 0 0 1 4.001 6.388a5.663 5.663 0 0 0-.773 2.867c0 1.987 1 3.747 2.547 4.747-.947 0-1.827-.267-2.6-.667v.04a5.724 5.724 0 0 0 4.587 5.613 5.644 5.644 0 0 1-2.574.093c.72 2.253 2.813 3.933 5.333 3.973-1.947 1.547-4.413 2.453-7.107 2.453-.453 0-.907-.027-1.36-.08A16.19 16.19 0 0 0 10.827 28c10.507 0 16.28-8.72 16.28-16.28 0-.253 0-.493-.013-.747A11.42 11.42 0 0 0 29.947 8z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="white-balance-sunny">
    <title>white-balance-sunny</title>
    <path d="M4.733 24.72l1.88 1.88 2.4-2.387L7.12 22.32zm9.934 5.213h2.667V26h-2.667zM16 7.333c-4.413 0-8 3.587-8 8s3.587 8 8 8 8-3.587 8-8c0-4.427-3.587-8-8-8zm10.667 9.334h4V14h-4zm-3.68 7.546l2.4 2.387 1.88-1.88-2.387-2.4zm4.28-18.266l-1.88-1.88-2.4 2.387 1.893 1.893zM17.333.733h-2.667v3.933h2.667zM5.333 14h-4v2.667h4zm3.68-7.547l-2.4-2.387-1.88 1.88 2.387 2.4 1.893-1.893z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="window-close">
    <title>window-close</title>
    <path d="M17.947 16l7.387 7.387v1.947h-1.947L16 17.947l-7.387 7.387H6.666v-1.947L14.053 16 6.666 8.613V6.666h1.947L16 14.053l7.387-7.387h1.947v1.947L17.947 16z"></path>
  </symbol>
</svg>  <div class="container">
    <div class="site">
      <header class="site-header">
  <div class="header-left">
    <a class="logo" href="../../">
        <span class="logo-text">Manuel Viera</span>
    </a>
  </div>
    <nav class="main-nav hidden-xs hidden-sm hidden-md">
        <a class="menu-item menu-item-about" href="../../about/">about</a>
  <a class="menu-item menu-item-tech" href="../../tag/tech/">tech</a>
  <a class="menu-item menu-item-self-tracking" href="../../tag/self-tracking/">self-tracking</a>
  <a class="menu-item menu-item-author" href="../../author/mviera/">author</a>

    </nav>
    
    <button class="button-icon hidden-lg hidden-xl js-modal" data-modal="search">
      <svg class="icon"><use xlink:href="#magnify"></use></svg>
    </button>
    <div class="burger hidden-lg hidden-xl">
      <div class="burger-bar"></div>
      <div class="burger-bar"></div>
    </div>

    <div class="mobile-menu hidden-lg hidden-xl">
      <div class="container">
        <nav class="mobile-nav">
            <a class="menu-item menu-item-about" href="../../about/">about</a>
  <a class="menu-item menu-item-tech" href="../../tag/tech/">tech</a>
  <a class="menu-item menu-item-self-tracking" href="../../tag/self-tracking/">self-tracking</a>
  <a class="menu-item menu-item-author" href="../../author/mviera/">author</a>

        </nav>
      </div>
    </div>
  <div class="header-right hidden-xs hidden-sm hidden-md">
      <button class="button-icon js-modal" data-modal="search">
        <svg class="icon"><use xlink:href="#magnify"></use></svg>
      </button>
  </div>
</header>

    <header class="sticky kg-width-full">
      <div class="sticky-title">Empezando con MongoDB Part.II</div>
      <button class="button-icon sticky-toc-button">
        <svg class="icon"><use xlink:href="#table-of-contents"></use></svg>
        <div class="sticky-toc"></div>
      </button>
      <div class="sticky-track">
        <div class="sticky-progress"></div>
      </div>
    </header>
      <div class="site-content">
        
<div class="content-area">
  <main class="site-main">
      <article class="single post tag-tech no-image kg-width-narrow">
  <header class="single-header">
      <div class="single-meta">
        <span class="single-meta-item single-meta-date">
          <time datetime="2013-03-02">
            Mar 02, 2013
          </time>
        </span>
        <span class="single-meta-item single-meta-length">
          10 min read
        </span>
          <span class="single-meta-item single-meta-tag">
            <a class="post-tag post-tag-tech" href="../../tag/tech/">
              #tech
            </a>
          </span>
      </div>
    <h1 class="single-title">Empezando con MongoDB Part.II</h1>
  </header>
  <div class="single-content u-text-format">
      <!--kg-card-begin: markdown--><p>En mi <a href="../empezando-con-mongodb/">anterior post</a> hablaba sobre <a href="../empezando-con-mongodb/">cómo empezar con MongoDB</a>, una base de datos NoSQL orientada a documentos; y como sigo estudiándola y me parece interesante, me gustaría seguir compartiendo y profundizando sobre el uso de MongoDB, así que he decidido escribir una segunda parte de este anterior post.</p>
<p>El objetivo de este post es bien sencillo. Cubrirá las operaciones principales básicas de MongoDB, también conocidas como operaciones <strong>CRUD</strong>, que significa <strong>C</strong> reate, <strong>R</strong> ead, <strong>U</strong> pdate y <strong>D</strong> elete. ¡Así que empecemos con ello!</p>
<!--more-->
<p>Antes de nada empezaremos recordando cómo iniciar nuestra base de datos<br>
utilizando el comando <code>mongod</code>. Recordad que debemos especificar la ruta donde se almacenará la base de datos utilizando el parámetro <code>--dbpath</code>. Dicho esto, podremos ejecutar una instrucción como la siguiente:</p>
<pre><code>$ mongod --dbpath test
</code></pre>
<p>En este caso he utilizado un directorio llamado <em>test</em> donde alojaré esta base de datos de pruebas. Apuntar que al no especificar un puerto con el parámetro <code>--port</code>, la instancia de <code>mongod</code> utilizará el puerto <code>27017</code> por defecto.</p>
<p>Esta instrucción tiene un "inconveniente" y es que no podremos seguir<br>
utilizando nuestra consola actual, pues la ejecución de <code>mongod</code> se realiza en primer plano, o <em>foreground</em>. Para evitar esto podemos hacer uso del parámetro <code>--fork</code> que creará un <em>fork</em> del proceso del servidor permitiendo poder seguir utilizando nuestra consola. La opción <code>--fork</code> requiere que se especifique además un fichero de log utilizando el parámetro <code>--logpath</code> o <code>--syslog</code>, así que la instrucción quedaría de la siguiente forma:</p>
<pre><code>$ mongod --dbpath test --logappend --logpath test.log --fork
forked process: 10017
all output going to: /home/mviera/Downloads/mongodb/test.log
child process started successfully, parent exiting
</code></pre>
<p><strong>Nota:</strong> Además he utilizado la opción <code>--logappend</code> para evitar que<br>
sobrescriba el contenido del fichero de log. En este caso seguirá concatenando datos al contenido actual del fichero.</p>
<p>Una vez funcionando nuestra instancia de <code>mongod</code>, podemos conectarnos a la<br>
consola utilizando el comando <code>mongo</code> de la siguiente forma:</p>
<pre><code>$ mongo
MongoDB shell version: 2.2.3
connecting to: test
&gt;
</code></pre>
<p><strong>Nota:</strong> No es necesario especificar el puerto porque se está utilizando  el puerto por defecto (<code>27017</code>).</p>
<p>Todo listo, así que ¡empecemos a crear documentos!</p>
<h2 id="introduciendocontenido">Introduciendo contenido</h2>
<p>Seguro que muchos ya os imagináis cómo se realiza este tipo de operación básica en una base de datos SQL como MySQL, PosgreSQL, SQLite, etc; pero en MongoDB se realiza de una forma muy diferente, por lo menos referente a cómo se realiza en una base de datos SQL.</p>
<p>Una inserción de datos sencilla en SQL podría ser de la siguiente forma:</p>
<pre><code>INSERT INTO users (firstName, lastName, username, age, city)
VALUES ('Manuel', 'Viera', 'mviera', 26, 'Sevilla');
</code></pre>
<p>En MongoDB es completamente diferente. En mi anterior post ya traté rápidamente las inserciones y si recordáis, comentaba que MongoDB está orientado a documentos y que estos documentos siguen el estilo JSON (JavaScript Object Notation).</p>
<p>Para realizar una inserción en MongoDB utilizaremos el método <code>insert()</code> al que llamaremos pasándole como parámetro el documento a introducir, el cual,<br>
siguiendo el ejemplo anterior, sería representado en formato JSON de la<br>
siguiente forma:</p>
<pre><code>{
  "firstName" : "Manuel",
  "lastName" : "Viera",
  "username" : "mviera",
  "age" : 26,
  "city" : "Sevilla"
}
</code></pre>
<p>Recordad también que en MongoDB los documentos se almacenan en colecciones (o <em>collections</em> en inglés), así que para seguir con el ejemplo introduciremos este documento en una colección llamada <code>users</code>.</p>
<pre><code>&gt; db.users.insert({
 firstName: "Manuel",
 lastName: "Viera",
 username: "mviera",
 age: 26,
 city: "Sevilla"
 })
</code></pre>
<p>Bien. ¿Qué tenemos hasta ahora? Por defecto cuando nos conectamos a una<br>
instancia MongoDB sin especificar una base de datos, se utilizará por defecto <code>test</code>. Así que hemos creado un documento dentro de la colección <code>users</code> en la base de datos <code>test</code>.</p>
<p><strong>Nota:</strong> A modo de recordatorio, no es necesario crear previamente la<br>
colección antes de introducir documentos. MongoDB lo hará por nosotros<br>
automáticamente si la colección no existe.</p>
<p>¿Pero cómo recuperamos los datos introducidos?</p>
<h2 id="recuperandolosdocumentos">Recuperando los documentos</h2>
<p>Para seleccionar, buscar, encontrar documentos dentro de nuestra colección<br>
utilizaremos uno de los siguientes métodos:</p>
<ul>
<li><code>find()</code> : que devolverá un cursor con todos los documentos recuperados de la base de datos.</li>
<li><code>findOne()</code> : que devuelve solamente un documento.</li>
</ul>
<p>El uso de <code>find()</code> es muy sencillo, como podéis ver a continuación:</p>
<pre><code>&gt; db.users.find()
{ "_id" : ObjectId("5131f87b350e650534c68d8e"), "firstName" : "Manuel", "lastName" : "Viera", "username" : "mviera", "age" : 26, "city" : "Sevilla" }
&gt;
</code></pre>
<p>En este caso tanto <code>find()</code> como <code>findOne()</code> devolverán resultados idénticos, pues ahora mismo sólo contamos con un documento en nuestra colección <code>users</code>:</p>
<pre><code>&gt; db.users.findOne()
{
        "_id" : ObjectId("5131f87b350e650534c68d8e"),
        "firstName" : "Manuel",
        "lastName" : "Viera",
        "username" : "mviera",
        "age" : 26,
        "city" : "Sevilla"
}
&gt;
</code></pre>
<p>Si os fijáis en un detalle, <code>findOne()</code> devuelve el contenido de una forma<br>
mucho más legible al ojo humano que <code>find()</code>. Esto también podemos conseguirlo con <code>find()</code> si utilizamos además el método <code>pretty()</code> de la siguiente forma:</p>
<pre><code>&gt; db.users.find().pretty()
{
        "_id" : ObjectId("5131f87b350e650534c68d8e"),
        "firstName" : "Manuel",
        "lastName" : "Viera",
        "username" : "mviera",
        "age" : 26,
        "city" : "Sevilla"
}
</code></pre>
<p>Al igual que <code>pretty()</code> también podemos utilizar otros métodos como <code>count()</code> que nos devuelve la cantidad total de documentos devueltos:</p>
<pre><code>&gt; db.users.find().count()
1
&gt;

O directamente sobre la colección `users` para saber el total de documentos de dicha colección:

&gt; db.users.count()
5
&gt;
</code></pre>
<p>Si introducimos más documentos de prueba, se aprecia que el contador total de documentos cambia:</p>
<pre><code>&gt; db.users.insert({firstName:"Paco", lastName:"Laverdaque", username: "laverdaque", age: 40, city: "Madrid"})
&gt; db.users.insert({firstName:"Raul", lastName:"Martin", username: "rmartin", age: 39, city: "Malaga"})
&gt; db.users.insert({firstName:"Jose", lastName:"Castillo", username: "lolo", age: 25, city: "Cadiz"})
&gt; db.users.insert({firstName:"Jose Luis", lastName:"Romero", username: "selu", age: 27, city: "Barcelona"})
&gt; 
&gt; db.users.count()
5
</code></pre>
<p>Pero no siempre vamos a querer recuperar todos los documentos de nuestra colección...</p>
<h3 id="cmofiltrardocumentos">¿Cómo filtrar documentos?</h3>
<p>Seguro que muchos ya estáis pensando en la cláusula <code>WHERE</code> de las sentencias SQL. Por ejemplo, si quisiéramos recuperar aquellos usuarios cuya ciudad es Sevilla, con una sentencia SQL sería:</p>
<pre><code>&gt; SELECT * FROM users WHERE city="Sevilla";
</code></pre>
<p>Sin embargo, en MongoDB es de la siguiente forma:</p>
<pre><code>&gt; db.users.find({ city: "Sevilla" })
</code></pre>
<p>De esta forma, pasamos como parámetro un documento JSON con la cláusula a<br>
cumplir, en este caso que la clave <strong>city</strong> tenga como valor <em>Sevilla</em>.</p>
<p>¿Y cómo podemos concatenar cláusulas? Es decir, cómo sería si quisiéramos<br>
recuperar aquellos usuarios cuya ciudad es Sevilla <strong>y</strong> además su edad sea 26:</p>
<pre><code>&gt; db.users.find({ city: "Sevilla", age: 26 })
</code></pre>
<p>Como se puede observar, solamente se necesita agregar una segunda clave o campo al documento JSON que se le pasa al método <code>find()</code>.</p>
<p><strong>Nota:</strong> MongoDB aplica por defecto un <strong>AND</strong> entre cláusulas, es decir,<br>
imaginaos que la coma (<strong>,</strong>) es un operador <strong>AND</strong>.</p>
<p>Para utilizar un operador <strong>OR</strong> deberemos usar el operador <code>$or</code> de MongoDB, de la siguiente forma:</p>
<pre><code>&gt; db.users.find({ $or: [ {city:"Sevilla"}, {city:"Malaga"} ] })
</code></pre>
<p>En este caso hemos recuperado aquellos usuarios cuya ciudad es Sevilla <strong>o</strong> Málaga.</p>
<p>Podéis aprender más sobre operadores en <a href="http://docs.mongodb.org/manual/reference/operators/">http://docs.mongodb.org/manual/reference/operators/</a>.<br>
Algunos de ellos son:</p>
<ul>
<li><code>$gt</code>: mayor que (o <em>greater than</em> en inglés).</li>
<li>`$lt: menor que (o <em>lower than</em> en inglés).</li>
<li><code>$gte</code>: mayor o igual que (o <em>greather or equal than</em> en inglés).</li>
<li><code>$lte</code>: menor o igual que (o <em>lower or equal than</em> en inglés).</li>
<li><code>$not</code>: no (negación o <em>not</em> en inglés).</li>
<li><code>$in</code>: en, para buscar dentro de un array.</li>
<li><code>$nin</code>: no en, para buscar algo que no se encuentre en un determinado array (o <em>not in</em> en inglés).</li>
<li><code>$ne</code>: no es igual a (o <em>not equal to</em> en inglés).</li>
</ul>
<p>Pero, no siempre vamos a querer recuperar todos los campos de un documento,<br>
quizás solo necesitemos un algunos de ellos...</p>
<h2 id="cmoseleccionarciertoscampos">¿Cómo seleccionar ciertos campos?</h2>
<p>Al igual que en una sentencia <code>SELECT</code>, en una base de datos SQL, podemos<br>
especificar qué determinados campos queremos obtener tras seleccionar los<br>
documentos, en MongoDB también podemos hacerlo.</p>
<p>Hasta ahora hemos estado utilizando <code>find()</code> como una sentencia SQL <code>SELECT *</code>, es decir:</p>
<pre><code>&gt; db.users.find()
</code></pre>
<p>es equivalente a</p>
<pre><code>&gt; SELECT * FROM users;
</code></pre>
<p>Pero ¿y si lo que queremos es solamente recuperar los campos <em>username</em> y<br>
<em>age</em>? En una sentencia SQL sería de la siguiente forma:</p>
<pre><code>&gt; SELECT username, age, city FROM users;
</code></pre>
<p>En cambio, en MongoDB sería de la siguiente forma:</p>
<pre><code>&gt; db.users.find({}, {username:1, age:1})
{ "_id" : ObjectId("5131f87b350e650534c68d8e"), "username" : "mviera", "age" : 26 }
{ "_id" : ObjectId("5131fdc8350e650534c68d8f"), "username" : "laverdaque", "age" : 40 }
{ "_id" : ObjectId("5131fe00350e650534c68d90"), "username" : "rmartin", "age" : 39 }
{ "_id" : ObjectId("5131fe20350e650534c68d91"), "username" : "lolo", "age" : 25 }
{ "_id" : ObjectId("5131fe80350e650534c68d92"), "username" : "selu", "age" : 27 }
</code></pre>
<p>Sin embargo, como podéis observar, aunque no hemos especificado el campo <code>_id</code> sigue apareciendo en la salida. Como ya comenté en el anterior post, MongoDB siempre muestra el campo <code>_id</code> a menos que especifiquemos explicitamente que no queramos que lo haga. Y sería de la siguiente forma:</p>
<pre><code>&gt; db.users.find( {}, { username:1, age:1, _id:0 })
{ "username" : "mviera", "age" : 26 }
{ "username" : "laverdaque", "age" : 40 }
{ "username" : "rmartin", "age" : 39 }
{ "username" : "lolo", "age" : 25 }
{ "username" : "selu", "age" : 27 }
</code></pre>
<p>En resumen, si analizamos la sintaxis del método <code>find()</code>, primero se<br>
especifica un documento JSON con las cláusulas del filtro que queremos aplicar y a continuación, si lo preferimos, podemos activar o desactivar cierto campos de la salida:</p>
<ul>
<li><strong>1</strong> : indica que queremos que muestre el campo especificado.</li>
<li><strong>0</strong> : indica que no queremos que dicho campo se muestre en la salida.</li>
</ul>
<h1 id="actualizandodatosdelosdocumentos">Actualizando datos de los documentos</h1>
<p>Una vez que somos capaces de introducir documentos en nuestra colección,<br>
recuperarlos todos o aquellos que nos interesan utilizando una <em>query</em> es hora de conocer cómo podemos actualizar los datos de nuestros documentos.</p>
<p>Para ello utilizaremos el método <code>update()</code> cuya sintaxis es la siguiente:</p>
<pre><code>&gt; db.collection.update( &lt;query&gt;, &lt;update&gt;, options )
&gt;
</code></pre>
<ul>
<li>El parámetro <code>&lt;query&gt;</code> hace referencia a una query como las que usabamos con el comando <code>find()</code>, la cual nos permitirá seleccionar aquellos documentos los cuales queremos modificar. De otra forma, si no se especifica una query se estarían seleccionando todos los documentos de una colección.</li>
<li>El parámetro <code>&lt;update&gt;</code> en el que podemos especificar un documento completo, que actualizará cada uno de los campos del documento seleccionado; o también podemos especificar solamente el campo del documento que queremos especificar, lo cual es más eficiente comparado con actualizar todos los campos del documento.</li>
</ul>
<p>Y con respecto a las opciones podemos citar:</p>
<ul>
<li><code>upsert</code>: si se establece este parámetro a <strong>true</strong> y no hay documento que coincida con la <code>&lt;query&gt;</code> especificada, el método <code>update()</code> insertará un nuevo documento en la colección con los valores especificados en el parámetro <code>&lt;update&gt;</code>.</li>
<li><code>multi</code> : por defecto MongoDB solo actualiza un documento al mismo tiempo, si necesitamos actualizar más de un documento al mismo tiempo debemos establecer este parámetro a <strong>true</strong>.</li>
</ul>
<h2 id="actualizarundocumentocompleto">Actualizar un documento completo</h2>
<p>Esta no es la forma más eficiente de actualizar el contenido de un documento, como comenté anteriormente, pues es necesario que se especifique el contenido completo del documento, y en caso de ser un documento muy grande puede llegar a ser bastante ineficiente, ya que tendra que actualizarse el valor de cada campo aunque no hay cambiado.</p>
<p>Imaginemos que queremos modificar un documento para cambiar solamente el valor del campo <strong>age</strong> (edad). Tendríamos que realizar lo siguiente:</p>
<pre><code>&gt; db.users.update({ username: "rmartin" }, { "firstName" : "Raul", "lastName" : "Martin", "username" : "rmartin", "age" : 40, "city" : "Malaga" } })
</code></pre>
<p>Con esta instrucción hemos cambiado el valor del campo <strong>age</strong> de 39 a 40, incluyendo los demás campos que serán actualizados con los mismos datos.</p>
<p>También es posible hacerlo de la siguiente forma para nuestra comodidad:</p>
<pre><code>&gt; user = db.users.findOne({ username:"rmartin" })
{
        "_id" : ObjectId("5131fe00350e650534c68d90"),
        "firstName" : "Raul",
        "lastName" : "Martin",
        "username" : "rmartin",
        "age" : 39,
        "city" : "Malaga"
}
&gt; user.age 
39
&gt; 
&gt; user.age = 40
40
&gt; 
&gt; db.users.update({ username:"rmartin" }, user )
</code></pre>
<ol>
<li>Recupero el documento completo referente al usuario cuyo <em>username</em> es <em>rmartin</em> y lo almaceno en la variable <code>user</code>.</li>
<li>Compruebo el valor actual del campo <em>age</em> accediendo al objeto <code>user</code> haciendo uso del <em>dot notation</em> (notación por punto: user.campo)</li>
<li>Modifico el valor del campo <em>age</em> estableciéndolo a 40.</li>
<li>Utilizo el método <code>update()</code> seleccionando de nuevo el mismo objeto que al principio (usando la misma query) e indico el nuevo documento a continuación, en este caso, almacenado en la variable <code>user</code>.</li>
</ol>
<h2 id="actualizandouncampoconcretodeundocumento">Actualizando un campo concreto de un documento</h2>
<p>Sin embargo, existe una alternativa mucho más eficiente para actualizar el<br>
valor de ciertos campos en un documento. Para ello será necesario volver a<br>
hacer uso de los operadores como los anteriormente citados. Algunos de estos son:</p>
<ul>
<li>
<p><code>$set</code>: que permite establecer un nuevo valor a un campo del documento. Si el campo no existe actualmente en el documento, será creado automáticamente. Por ejemplo:</p>
<pre><code>  &gt; db.users.update({ age: 26, city: "Sevilla" }, { $set: { weight: 68.9 } })
</code></pre>
</li>
</ul>
<p>En este caso se ha seleccionado un usuario cuya edad sea 26 y su ciudad<br>
Sevilla, y se ha añadido el campo <strong>weight</strong>.</p>
<ul>
<li>
<p><code>$addToSet</code>: para añadir elementos un array. Por ejemplo, si quisieramos añadir un nuevo campo llamado <em>likes</em> con los gustos de un usuario:</p>
<pre><code>&gt; db.users.update({ username:"mviera" }, {$addToSet: { likes: "photography" }})
&gt; db.users.update({ username:"mviera" }, {$addToSet: { likes: "music" }})
&gt;
&gt; db.users.findOne({ username: "mviera" })
{
    "_id" : ObjectId("5131f87b350e650534c68d8e"),
    "age" : 26,
    "city" : "Sevilla",
    "firstName" : "Manuel",
    "lastName" : "Viera",
    "likes" : [
            "photography",
            "music"
    ],
    "username" : "mviera",
    "weight" : 68.9
}
&gt;
</code></pre>
</li>
<li>
<p><code>$inc</code>: permite incrementar el valor numérico de uno de los campos del documento. Por ejemplo, si quisieramos incrementar en 5 la edad del usuario <em>mviera</em>:</p>
<pre><code>  &gt; db.users.update({ username:"mviera" }, {$inc: {age: 5}})
  &gt; db.users.find({ username: "mviera" }, {username: 1, age: 1, _id:0})
</code></pre>
<p>{ "age" : 31, "username" : "mviera" }</p>
</li>
</ul>
<p>Para más información acerca de los operadores utilzados en el método <code>update()</code> podéis consultar<br>
<a href="http://docs.mongodb.org/manual/applications/update/#update-operators">http://docs.mongodb.org/manual/applications/update/#update-operators</a></p>
<h2 id="eliminandodocumentos">Eliminando documentos</h2>
<p>Para eliminar documentos de nuestra colección utilizaremos el método <code>remove()</code> en la shell de MongoDB. Si ya sabes cómo utilizar el método <code>find()</code> no supondrá ningún problema porque solamente requiere que se le especifique el filtro o búsqueda de los documentos que se quieren eliminar. Su sintaxis es la siguiente:</p>
<pre><code>db.collection.remove( &lt;query&gt;, &lt;justOne&gt; )
</code></pre>
<p>De forma que si queremos eliminar de la colección todos los usuarios cuya edad sea mayor a 30 utilizaríamos la siguiente instrucción:</p>
<pre><code>&gt; db.users.remove({ age: { $gt: 30 } })
</code></pre>
<p>El parámetro <code>justOne</code> permite indicar al método <code>remove()</code> si queremos<br>
eliminar solamente un documento de todos los coincidentes. En ese caso, se debe pasar el valor <em>true</em> o <em>1</em>, de la siguiente forma:</p>
<pre><code>&gt; db.users.remove({ age: { $gt: 30 } }, true )
</code></pre>
<p>Es posible utilizar el método <code>remove()</code> para eliminar todos los documentos de una colección si no se especifica una query o si ésta está vacía, es decir, <code>db.users.remove({})</code>. Pero en este caso, si queremos eliminar todos los documentos de una colección, es recomendable utilizar el método <code>drop()</code>, que <strong>elimina la colección completa</strong>:</p>
<pre><code>&gt; db.users.drop()
</code></pre>
<p>¡Y eso es todo! Espero que os haya sido útil y por lo menos hayáis aprendido algo nuevo. Intentaré seguir escribiendo sobre MongoDB, ahora que ya conocemos lo básico.</p>
<p>Un saludo,<br>
Manu.</p>
<!--kg-card-end: markdown-->
  </div>
    <footer class="single-footer kg-width-normal">
      <div class="single-footer-left">
          <div class="navigation navigation-previous">
            <a class="navigation-link" href="../empezando-con-mongodb/">
              <svg class="icon navigation-icon"><use xlink:href="#arrow-left"></use></svg>
            </a>
          </div>
      </div>
      <div class="single-footer-middle">
        <div class="single-footer-top">
          <h3 class="single-footer-title">Published by:</h3>
          <div class="author-list">
              <div class="author-image-placeholder u-placeholder square">
                <a href="../../author/mviera/" title="Manuel Viera">
                  <img class="author-image lazyload u-object-fit" data-src="/content/images/size/w150/2020/06/2020-06-22-161222_428x430_scrot.png" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manuel Viera">
                </a>
              </div>
          </div>
        </div>
        <div class="single-footer-bottom">
          <div class="share">
            <a class="share-link share-link-facebook" href="https://www.facebook.com/sharer.php?u=http://manuelviera.com/blog/empezando-con-mongodb-part-ii/" target="_blank" rel="noopener noreferrer">
              <svg class="icon icon-facebook"><use xlink:href="#facebook"></use></svg>
              Share
            </a>
            <a class="share-link share-link-twitter" href="https://twitter.com/intent/tweet?url=http://manuelviera.com/blog/empezando-con-mongodb-part-ii/&amp;text=Empezando%20con%20MongoDB%20Part.II" target="_blank" rel="noopener noreferrer">
              <svg class="icon icon-twitter"><use xlink:href="#twitter"></use></svg>
              Tweet
            </a>
          </div>
        </div>
      </div>
      <div class="single-footer-right">
          <div class="navigation navigation-next">
            <a class="navigation-link" href="../instalar-solr-en-jetty/">
              <svg class="icon navigation-icon"><use xlink:href="#arrow-right"></use></svg>
            </a>
          </div>
      </div>
    </footer>
</article>          <section class="related-wrapper kg-width-full">
      <div class="container">
        <div class="kg-width-normal">
          <h3 class="related-title">You might also like...</h3>
          <div class="related-feed">
              <article class="feed post featured">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Sep
    </div>
    <div class="feed-calendar-day">
      20
    </div>
  </div>
  <h2 class="feed-title">PostgreSQL and read-only users - the easiest way</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      1 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../postgresql-and-read-only-users-the-easiest-way/"></a>
</article>              <article class="feed post featured">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Sep
    </div>
    <div class="feed-calendar-day">
      13
    </div>
  </div>
  <h2 class="feed-title">PostgreSQL and how to shield your databases well</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      2 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../postgresql-and-how-to-shield-your-databases-well/"></a>
</article>              <article class="feed post featured">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Aug
    </div>
    <div class="feed-calendar-day">
      10
    </div>
  </div>
  <h2 class="feed-title">Find and the importance of parameters order</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      2 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../find-and-the-importance-of-parameters-order/"></a>
</article>              <article class="feed post">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Aug
    </div>
    <div class="feed-calendar-day">
      02
    </div>
  </div>
  <h2 class="feed-title">Compartiendo ficheros con GlusterFS</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      6 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../compartiendo-ficheros-con-glusterfs-2/"></a>
</article>              <article class="feed post no-image">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Nov
    </div>
    <div class="feed-calendar-day">
      12
    </div>
  </div>
  <h2 class="feed-title">AWS Summit Barcelona 2015</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      7 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../aws-summit-barcelona-2015/"></a>
</article>          </div>
        </div>
      </div>
    </section>
        <div class="comment kg-width-narrow">
  <div id="disqus_thread">
    <button class="button button-secondary" onclick="loadDisqus();">Load comments</button>
  </div>
</div>

<script>
  // DON'T EDIT BELOW THIS LINE
  if (themeOptions.disqus_shortname == '') {
    document.querySelector('.comment').remove();
  }
  
  var disqus_config = function () {
    this.page.url = 'http://manuelviera.com/blog/empezando-con-mongodb-part-ii/';
    this.page.identifier = 'ghost-5ee645fa46e19912dcb4161f';
  };

  function loadDisqus() {
    var d = document, s = d.createElement('script');
    s.src = 'https://' + themeOptions.disqus_shortname + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  };
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>  </main>
</div>
      </div>
      <footer class="site-footer">
  <div class="social">
      <a class="social-item social-item-twitter" href="https://twitter.com/mviera" target="_blank" rel="noopener noreferrer">
        <svg class="icon"><use xlink:href="#twitter-box"></use></svg>
      </a>
    <a class="social-item social-item-rss" href="https://feedly.com/i/subscription/feed/http://manuelviera.com/rss/" target="_blank" rel="noopener noreferrer">
      <svg class="icon"><use xlink:href="#rss-box"></use></svg>
    </a>
  </div>

  <div class="copyright">
  Powered by <a href="https://ghost.org/" target="_blank">Ghost</a>
</div>
  <nav class="footer-nav">
    
    <a class="menu-item js-theme" href="index.html#" data-system="System theme" data-dark="Dark theme" data-light="Light theme">
      <svg class="icon theme-icon theme-icon-system"><use xlink:href="#circle-half-full"></use></svg>
      <svg class="icon theme-icon theme-icon-dark"><use xlink:href="#brightness-2"></use></svg>
      <svg class="icon theme-icon theme-icon-light"><use xlink:href="#white-balance-sunny"></use></svg>
      <span class="theme-text">System theme</span>
    </a>
  </nav>
</footer>      <div class="modal-overlay">
  <div class="modal modal-search">
    <div class="form-wrapper">
      <input class="modal-input search-input" type="search" placeholder="Enter keyword...">
      <button class="form-button search-button">
        <svg class="icon icon-search"><use xlink:href="#magnify"></use></svg>
        <svg class="icon icon-close"><use xlink:href="#window-close"></use></svg>
      </button>
    </div>
        <div class="popular-wrapper">
          <h4 class="popular-title">Popular tags</h4>
          <div class="popular-feed">
              <a class="popular" href="../../tag/tech/">tech</a>
              <a class="popular" href="../../tag/self-tracking/">self-tracking</a>
              <a class="popular" href="../../tag/offtopic/">offtopic</a>
          </div>
        </div>
    <div class="search-result"></div>
  </div>
  <button class="button-icon modal-close">
    <svg class="icon icon-close"><use xlink:href="#window-close"></use></svg>
  </button>
</div>      <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg"></div>

  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
      <!-- Container that holds slides. 
          PhotoSwipe keeps only 3 of them in the DOM to save memory.
          Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>

    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter"></div>

        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--share" title="Share"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

        <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip"></div> 
      </div>

      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

      <div class="pswp__caption">
        <div class="pswp__caption__center"></div>
      </div>
    </div>
  </div>
</div>    </div>
  </div>

  <script>
    var body = document.querySelector('body');
    if (window.innerWidth > body.clientWidth + 5) {
      document.documentElement.style.setProperty('--scrollbar', (window.innerWidth - body.clientWidth) + 'px');
    }
  </script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
  </script>
  <script src="../../assets/js/main.min.js?v=5d1841124f"></script>


  
</body>
