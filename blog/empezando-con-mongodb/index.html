
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Empezando con MongoDB</title>
  <link rel="stylesheet" href="../../assets/css/screen.css?v=06e9a79eee">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli:400,400i,700,700i,800">

  <script>
    var siteUrl = 'http://manuelviera.com';
  </script>
  <script>
  var themeOptions = {
    disqus_shortname: '',
    search_key: '',
    search_migration: 'v1',
    white_logo: '',
    white_icon: '',
  };
</script>
  <script>
    var localTheme = localStorage.getItem('dawn_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>

  <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="Manuel Viera">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Empezando con MongoDB">
    <meta property="og:description" content="Normalmente muchos de los que nos dedicamos a la informática, cuando escuchamos el término base de datos o database (en inglés) pensamos directamente en un tipo de base de datos, las bases de datos relacionales, como MySQL, PostgreSQL, etc; quizás porque son las más comunes y utilizadas durante mucho tiempo.">
    <meta property="og:url" content="http://manuelviera.com/blog/empezando-con-mongodb/">
    <meta property="article:published_time" content="2013-02-06T00:00:00.000Z">
    <meta property="article:modified_time" content="2020-06-14T12:59:10.000Z">
    <meta property="article:tag" content="tech">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Empezando con MongoDB">
    <meta name="twitter:description" content="Normalmente muchos de los que nos dedicamos a la informática, cuando escuchamos el término base de datos o database (en inglés) pensamos directamente en un tipo de base de datos, las bases de datos relacionales, como MySQL, PostgreSQL, etc; quizás porque son las más comunes y utilizadas durante mucho tiempo.">
    <meta name="twitter:url" content="http://manuelviera.com/blog/empezando-con-mongodb/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Manuel Viera">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="tech">
    <meta name="twitter:site" content="@mviera">
    <meta name="twitter:creator" content="@mviera">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Manuel Viera",
        "url": "http://manuelviera.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "http://manuelviera.com/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "Manuel Viera",
        "image": {
            "@type": "ImageObject",
            "url": "http://manuelviera.com/content/images/2020/06/2020-06-22-161222_428x430_scrot.png",
            "width": 428,
            "height": 430
        },
        "url": "http://manuelviera.com/author/mviera/",
        "sameAs": [
            "https://manuelviera.com",
            "https://twitter.com/mviera"
        ]
    },
    "headline": "Empezando con MongoDB",
    "url": "http://manuelviera.com/blog/empezando-con-mongodb/",
    "datePublished": "2013-02-06T00:00:00.000Z",
    "dateModified": "2020-06-14T12:59:10.000Z",
    "keywords": "tech",
    "description": "Normalmente muchos de los que nos dedicamos a la informática, cuando escuchamos\nel término base de datos o database (en inglés) pensamos directamente en un tipo\nde base de datos, las bases de datos relacionales, como MySQL, PostgreSQL, etc;\nquizás porque son las más comunes y utilizadas durante mucho tiempo. Pero esto\nestá cambiando.\n\nDesde hace un tiempo hasta ahora han ido proliferando otro tipo de base de\ndatos conocidas como NoSQL y seguro que conocéis algunas como: Memcached, una\ncaché tipo",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://manuelviera.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.19">
    <link rel="alternate" type="application/rss+xml" title="Manuel Viera" href="../rss/index.html">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;0,900;1,400;1,700&amp;display=swap">
</head>
<body class="post-template tag-tech">
  <svg width="0" height="0" style="display: none;">
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="arrow-left">
    <title>arrow-left</title>
    <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="arrow-right">
    <title>arrow-right</title>
    <path d="M5.333 14.667v2.667h16L14 24.667l1.893 1.893L26.453 16 15.893 5.44 14 7.333l7.333 7.333h-16z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="brightness-2">
    <title>brightness-2</title>
    <path d="M13.333 2.667c-2.427 0-4.707.667-6.667 1.8 4 2.307 6.667 6.6 6.667 11.533s-2.667 9.227-6.667 11.533c1.96 1.133 4.24 1.8 6.667 1.8 7.36 0 13.333-5.973 13.333-13.333S20.693 2.667 13.333 2.667z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="chevron-left">
    <title>chevron-left</title>
    <path d="M20.547 22.107L14.44 16l6.107-6.12L18.667 8l-8 8 8 8 1.88-1.893z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="chevron-right">
    <title>chevron-right</title>
    <path d="M11.453 22.107L17.56 16l-6.107-6.12L13.333 8l8 8-8 8-1.88-1.893z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="circle-half-full">
    <title>circle-half-full</title>
    <path d="M16 2.667c-7.36 0-13.333 5.973-13.333 13.333s5.973 13.333 13.333 13.333c7.36 0 13.333-5.973 13.333-13.333s-5.973-13.333-13.333-13.333zM16 5.333c5.893 0 10.667 4.773 10.667 10.667s-4.773 10.667-10.667 10.667v-21.333z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="dots-horizontal">
    <title>dots-horizontal</title>
    <path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="facebook-box">
    <title>facebook-box</title>
    <path d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zM24 6.667h-3.333A4.672 4.672 0 0 0 16 11.334v3.333h-2.667v4H16V28h4v-9.333h4v-4h-4V12c0-.733.6-1.333 1.333-1.333H24v-4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="facebook">
    <title>facebook</title>
    <path d="M22.667 2.667V8H20c-.92 0-1.333 1.08-1.333 2v3.333h4v5.333h-4v10.667h-5.333V18.666h-4v-5.333h4V8a5.332 5.332 0 0 1 5.333-5.333h4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 40 40" id="loader">
    <title>loader</title>
    <path opacity="0.3" fill="currentColor" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path>
    <path fill="currentColor" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z">
      <animatetransform attributetype="xml" attributename="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatcount="indefinite"></animatetransform>
    </path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="magnify">
    <title>magnify</title>
    <path d="M12.667 4a8.667 8.667 0 0 1 8.667 8.667c0 2.147-.787 4.12-2.08 5.64l.36.36h1.053l6.667 6.667-2 2-6.667-6.667v-1.053l-.36-.36a8.689 8.689 0 0 1-5.64 2.08C7.88 21.334 4 17.454 4 12.667S7.88 4 12.667 4zm0 2.667c-3.333 0-6 2.667-6 6s2.667 6 6 6 6-2.667 6-6-2.667-6-6-6z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="menu-down">
    <title>menu-down</title>
    <path d="M9.333 13.333L16 20l6.667-6.667H9.334z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="rss-box">
    <title>rss-box</title>
    <path d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zM10 20c-1.107 0-2 .893-2 2s.893 2 2 2 2-.893 2-2-.893-2-2-2zm-2-6.667V16c4.413 0 8 3.587 8 8h2.667c0-5.893-4.773-10.667-10.667-10.667zM8 8v2.667c7.36 0 13.333 5.973 13.333 13.333H24c0-8.84-7.16-16-16-16z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="star">
    <title>star</title>
    <path d="M16 23.027L24.24 28l-2.187-9.373 7.28-6.307-9.587-.827-3.747-8.827-3.747 8.827-9.587.827 7.267 6.307L7.759 28l8.24-4.973z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" id="table-of-contents">
    <path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="twitter-box">
    <title>twitter-box</title>
    <path d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zm16.946 8.44c.64-.533 1.387-1.173 1.72-1.88-.547.28-1.2.453-1.92.547.667-.48 1.213-1.107 1.493-1.96-.693.373-1.4.693-2.28.853-2.067-2.493-7.013-.467-6.133 3.267-3.48-.213-5.6-1.787-7.36-3.72-1 1.627-.133 4.093 1.053 4.773-.613-.04-1.08-.227-1.52-.44.053 2.053 1.187 3.04 2.773 3.573a4.47 4.47 0 0 1-1.52.04c.493 1.427 1.52 2.32 3.28 2.507-1.2 1.013-3.413 1.72-5.2 1.44 1.533.973 3.28 1.747 5.707 1.64 5.88-.267 9.813-4.48 9.907-10.64z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="twitter">
    <title>twitter</title>
    <path d="M29.947 8a11.423 11.423 0 0 1-3.28.92 5.738 5.738 0 0 0 2.507-3.173 11.52 11.52 0 0 1-3.627 1.4C24.494 6 23.014 5.334 21.334 5.334c-3.133 0-5.693 2.56-5.693 5.72 0 .453.053.893.147 1.307A16.261 16.261 0 0 1 4.001 6.388a5.663 5.663 0 0 0-.773 2.867c0 1.987 1 3.747 2.547 4.747-.947 0-1.827-.267-2.6-.667v.04a5.724 5.724 0 0 0 4.587 5.613 5.644 5.644 0 0 1-2.574.093c.72 2.253 2.813 3.933 5.333 3.973-1.947 1.547-4.413 2.453-7.107 2.453-.453 0-.907-.027-1.36-.08A16.19 16.19 0 0 0 10.827 28c10.507 0 16.28-8.72 16.28-16.28 0-.253 0-.493-.013-.747A11.42 11.42 0 0 0 29.947 8z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="white-balance-sunny">
    <title>white-balance-sunny</title>
    <path d="M4.733 24.72l1.88 1.88 2.4-2.387L7.12 22.32zm9.934 5.213h2.667V26h-2.667zM16 7.333c-4.413 0-8 3.587-8 8s3.587 8 8 8 8-3.587 8-8c0-4.427-3.587-8-8-8zm10.667 9.334h4V14h-4zm-3.68 7.546l2.4 2.387 1.88-1.88-2.387-2.4zm4.28-18.266l-1.88-1.88-2.4 2.387 1.893 1.893zM17.333.733h-2.667v3.933h2.667zM5.333 14h-4v2.667h4zm3.68-7.547l-2.4-2.387-1.88 1.88 2.387 2.4 1.893-1.893z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" id="window-close">
    <title>window-close</title>
    <path d="M17.947 16l7.387 7.387v1.947h-1.947L16 17.947l-7.387 7.387H6.666v-1.947L14.053 16 6.666 8.613V6.666h1.947L16 14.053l7.387-7.387h1.947v1.947L17.947 16z"></path>
  </symbol>
</svg>  <div class="container">
    <div class="site">
      <header class="site-header">
  <div class="header-left">
    <a class="logo" href="../../">
        <span class="logo-text">Manuel Viera</span>
    </a>
  </div>
    <nav class="main-nav hidden-xs hidden-sm hidden-md">
        <a class="menu-item menu-item-about" href="../../about/">about</a>
  <a class="menu-item menu-item-tech" href="../../tag/tech/">tech</a>
  <a class="menu-item menu-item-self-tracking" href="../../tag/self-tracking/">self-tracking</a>
  <a class="menu-item menu-item-author" href="../../author/mviera/">author</a>

    </nav>
    
    <button class="button-icon hidden-lg hidden-xl js-modal" data-modal="search">
      <svg class="icon"><use xlink:href="#magnify"></use></svg>
    </button>
    <div class="burger hidden-lg hidden-xl">
      <div class="burger-bar"></div>
      <div class="burger-bar"></div>
    </div>

    <div class="mobile-menu hidden-lg hidden-xl">
      <div class="container">
        <nav class="mobile-nav">
            <a class="menu-item menu-item-about" href="../../about/">about</a>
  <a class="menu-item menu-item-tech" href="../../tag/tech/">tech</a>
  <a class="menu-item menu-item-self-tracking" href="../../tag/self-tracking/">self-tracking</a>
  <a class="menu-item menu-item-author" href="../../author/mviera/">author</a>

        </nav>
      </div>
    </div>
  <div class="header-right hidden-xs hidden-sm hidden-md">
      <button class="button-icon js-modal" data-modal="search">
        <svg class="icon"><use xlink:href="#magnify"></use></svg>
      </button>
  </div>
</header>

    <header class="sticky kg-width-full">
      <div class="sticky-title">Empezando con MongoDB</div>
      <button class="button-icon sticky-toc-button">
        <svg class="icon"><use xlink:href="#table-of-contents"></use></svg>
        <div class="sticky-toc"></div>
      </button>
      <div class="sticky-track">
        <div class="sticky-progress"></div>
      </div>
    </header>
      <div class="site-content">
        
<div class="content-area">
  <main class="site-main">
      <article class="single post tag-tech no-image kg-width-narrow">
  <header class="single-header">
      <div class="single-meta">
        <span class="single-meta-item single-meta-date">
          <time datetime="2013-02-06">
            Feb 06, 2013
          </time>
        </span>
        <span class="single-meta-item single-meta-length">
          12 min read
        </span>
          <span class="single-meta-item single-meta-tag">
            <a class="post-tag post-tag-tech" href="../../tag/tech/">
              #tech
            </a>
          </span>
      </div>
    <h1 class="single-title">Empezando con MongoDB</h1>
  </header>
  <div class="single-content u-text-format">
      <!--kg-card-begin: markdown--><p>Normalmente muchos de los que nos dedicamos a la informática, cuando escuchamos el término <em>base de datos</em> o <em>database</em> (en inglés) pensamos directamente en un tipo de base de datos, las bases de datos relacionales, como MySQL, PostgreSQL, etc; quizás porque son las más comunes y utilizadas durante mucho tiempo. Pero esto está cambiando.</p>
<p>Desde hace un tiempo hasta ahora han ido proliferando otro tipo de base de<br>
datos conocidas como <em>NoSQL</em> y seguro que conocéis algunas como: <strong>Memcached</strong>, una caché tipo clave-valor en RAM, su variante <strong>MemcacheDB</strong> que almacena datos clave-valor en disco usando <strong>BerkeleyDB</strong>; <strong>Redis</strong>, otra base de datos de tipo clave-valor; o <strong>MongoDB</strong> que a diferencia de las anteriores, está <strong>orientada a documentos</strong>.</p>
<h2 id="quesmongodb">¿Qué es MongoDB?</h2>
<p>Primero, ¿Qué significa <em>NoSQL</em>? El término <em>NoSQL</em> se utiliza para indicar que dicha base de datos no utiliza el sistema relacional tan ampliamente utilizado. Las bases de datos <em>NoSQL</em> no se construyen sobre <em>tablas</em> y normalmente tampoco utilizan el lenguaje <em>SQL</em> para realizar consultas.</p>
<p>Muchos sistemas <em>NoSQL</em> utilizan una arquitectura distribuida y tolerante a<br>
fallos, lo que permite mantener los datos en varios servidores de forma<br>
redundante. De esta forma es bastante fácil escalar el sistema añadiendo más servidores. Normalmente este tipo de base de datos escala horizontalmente permitiendo administrar grandes cantidades de datos.</p>
<p>El nombre de <strong>MongoDB</strong> proviene de "hu<strong>mongo</strong>us", que significa enorme en inglés, y es una base de datos <em>NoSQL</em> software libre, escalable y de alto rendimiento escrita en C++.</p>
<p>Algunas de las características más importantes de MongoDB son:</p>
<ol>
<li>Almacenamiento orientado a documentos (<em>document-oriented</em> en inglés).</li>
<li>Replicación y Alta Disponibilidad.</li>
<li>Soporte de índices.</li>
<li>Consultas, también basadas en documentos.</li>
<li>Auto-Sharding, permitiendo escalar horizontalmente.</li>
<li>GridFS, que permite almacenar ficheros de cualquier tamaño sin necesidad de complicar el entorno.</li>
</ol>
<h2 id="orientadoadocumentos">¿Orientado a documentos?</h2>
<p>Si hubiera que destacar una de las características anteriormente citadas, en mi opinión, la más importante ahora mismo sería la de <em>orientado a documentos</em> o <em>document-oriented</em>, ya que se trata de un concepto fundamental para entender cómo funciona y cómo trabajar con MongoDB.</p>
<p>El almacenamiento de los datos en MongoDB utiliza documentos <strong>JSON</strong><br>
(JavaScript Object Notation), contando con un esquema dinámico y totalmente<br>
flexible. De hecho se dice que MongoDB es <em>schemaless</em> (sin esquema).</p>
<h4 id="peroquesundocumentojson">¿Pero qué es un documento JSON?</h4>
<p>De forma rápida y sencilla, un documento JSON no es más que descripción de un objecto en formato JSON, un formato muy rápido para el intercambio de datos y  muy legible para el humano (<em>human-readable</em> en inglés).</p>
<p>Un documento JSON podria tener la siguiente forma:</p>
<pre><code>{"username":"mviera", "age": 26, "city": "Sevilla"}
</code></pre>
<p>Este documento describe un usuario cuyo "<em>username</em>" es "mviera", con una edad de 26 años y cuya ciudad es "Sevilla".</p>
<p>En JSON hay 6 tipos de datos diferentes:</p>
<ul>
<li>Number</li>
<li>String</li>
<li>Boolean (true o false)</li>
<li>Array</li>
<li>Object</li>
<li>null</li>
</ul>
<p>Podéis aprender más sobre JSON en <a href="http://json.org/json-es.html">http://json.org/json-es.html</a></p>
<h2 id="cmoseinstala">¿Cómo se instala?</h2>
<p>La instalación de MongoDB es bastante sencilla. La versión actual de MongoDB es <strong>2.2.3</strong>, en el momento en que escribo este artículo.</p>
<p>Su instalación se puede llevar a cabo a través del sistema de paquetería de<br>
nuestra distribución, APT, Aptitude, Yum... En Debian el nombre del paquete que contiene el servidor de MongoDB se llaman <strong>mongodb-server</strong> y el paquete que contiene el cliente y otras utilidades de MongoDB se llama <strong>mongodb-clients</strong>.</p>
<p>Así que si estamos en un sistema Debian o derivado, podemos instalarlo de la siguiente forma:</p>
<pre><code>mviera@mongodb:~$ sudo apt-get update
mviera@mongodb:~$ sudo apt-get install mongodb-server mongodb-clients
</code></pre>
<p>También podemos descargar los binarios desde la propia web oficial de MongoDB <a href="http://www.mongodb.org/downloads">www.mongodb.org</a> o el código fuente si lo que queremos es compilar nuestro propio MongoDB. Hay binarios disponibles para OS X, Linux, Windows para plataformas de 32 y 64bits; y Solaris 64 bits.</p>
<p>Si lo que queremos es realizar un despliegue en producción, recomendaría<br>
instalar utilizando el sistema de paquetería del sistema con el que contaremos con futuras actualizaciones de seguridad, etc. Si el objetivo es aprender MongoDB, podemos instalarlo tanto a través del sistema de paquetería, como descargando los binarios desde la web de MongoDB.</p>
<p>En este caso voy a descargar los binarios de MongoDB desde la sección de<br>
descargas de la web oficial, ya que lo utilizaré para aprender y enseñaros<br>
MongoDB. Son binarios precompilados, así que no será necesario instalar ningún paquete adicional en nuestro sistema.</p>
<p>Para ello, descargamos el tarball que se ajuste a nuestro sistema, en este<br>
caso, Linux x86-64:</p>
<pre><code>mviera@mongodb:~$ wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.2.3.tgz
mviera@mongodb:~$ tar xzf mongodb-linux-x86_64-2.2.3.tgz                                         
mviera@mongodb:~$ ln -s mongodb-linux-x86_64-2.2.3 mongodb                   
mviera@mongodb:~$ cd mongodb
mviera@mongodb:~/mongodb$ 
</code></pre>
<p><strong>Nota:</strong> he creado un enlace simbólico llamado <em>mongodb</em> para evitar tener<br>
acceder a un directorio con un nombre tan largo y complejo.</p>
<p>Si listamos el contenido del directorio recién descomprimido, deberíamos tener algo similar a los siguiente:</p>
<pre><code>mviera@mongodb:~/mongodb$ tree 
.
|-- GNU-AGPL-3.0
|-- README
|-- THIRD-PARTY-NOTICES
`-- bin
    |-- bsondump
    |-- mongo
    |-- mongod
    |-- mongodump
    |-- mongoexport
    |-- mongofiles
    |-- mongoimport
    |-- mongooplog
    |-- mongoperf
    |-- mongorestore
    |-- mongos
    |-- mongosniff
    |-- mongostat
    `-- mongotop

1 directory, 17 files
</code></pre>
<p>Entre ellos se encuentran el fichero de licencia <em>GNU-AGPL-3.0</em>, el<br>
fichero_README_ y <em>THIRD-PARTY-NOTICES</em>; y el directorio <em>bin/</em> que contiene todos los binarios y utilidades necesarios para empezar con MongoDB. Aunque hay una buena selección de utilidades, de momento sólo vamos a utilizar <strong>mongod</strong> y <strong>mongo</strong> para familiarizarnos con MongoDB.</p>
<p>Si la instalación de MongoDB se ha realizado utilizando el sistema de<br>
paquetería del sistema, estas utilidades y herramientas se encontrarán en los directorios habituales como <em>/usr/bin</em>. En caso de Debian, es posible consultar los ficheros instalados con la siguiente instrucción:</p>
<pre><code>mviera@mongodb:~$ dpkg -L mongodb-server mongodb-clients
</code></pre>
<h2 id="primeratomadecontacto">Primera toma de contacto</h2>
<p>Una vez tenemos MongoDB instalado en nuestro sistema, lo primero que debemos hacer es iniciar la base de datos. Para ello utilizaremos <em>mongod</em>. Si se ha instalado utilizando paquetería, es posible que se haya iniciado la base de datos automáticamente, especialmente en distribuciones basadas en Debian.</p>
<p>Antes de ejecutarlo se necesita especificar el directorio donde se alojará la base de datos. Por defecto, MongoDB buscará el directorio <em>/data/db</em> y si no lo encuentra, se producirá un error como el siguiente:</p>
<pre><code>*********************************************************************
 ERROR: dbpath (/data/db/) does not exist.
 Create this directory or give existing directory in --dbpath.
 See http://dochub.mongodb.org/core/startingandstoppingmongo
*********************************************************************
</code></pre>
<p>Así que para evitar dicho error, crearemos un directorio local llamado <em>data</em> en la ruta actual y especificaremos dicho directorio con el parámetro <em>--dbpath</em> de la siguiente forma:</p>
<pre><code>mviera@mongodb:~/mongodb$ mkdir data 
mviera@mongodb:~/mongodb$ ./bin/mongod --dbpath data
</code></pre>
<p>Si todo ha ido bien, deberíamos ver algo similar a la siguiente salida:</p>
<pre><code>mviera@mongodb:~/mongodb$ ./bin/mongod --dbpath data/
Wed Feb  6 01:36:44 [initandlisten] MongoDB starting : pid=1082 port=27017 dbpath=data/ 64-bit host=mongodb
Wed Feb  6 01:36:44 [initandlisten] db version v2.2.3, pdfile version 4.5
Wed Feb  6 01:36:44 [initandlisten] git version: f570771a5d8a3846eb7586eaffcf4c2f4a96bf08
Wed Feb  6 01:36:44 [initandlisten] build info: Linux ip-10-2-29-40 2.6.21.7-2.ec2.v1.2.fc8xen ...
Wed Feb  6 01:36:44 [initandlisten] options: { dbpath: "data/" }
Wed Feb  6 01:36:44 [initandlisten] journal dir=data/journal
Wed Feb  6 01:36:44 [initandlisten] recover : no journal files present, no recovery needed
Wed Feb  6 01:36:44 [websvr] admin web console waiting for connections on port 28017
Wed Feb  6 01:36:44 [initandlisten] waiting for connections on port 27017
</code></pre>
<p>Como se puede observar, MongoDB se encuentra funcionando en el puerto <strong>27017</strong> por defecto, su directorio de almacenamiento de la base de datos se encuentra en <strong>dbpath=data/</strong> y además ofrece una consola de administración en el puerto <strong>28017</strong>, a través de la cual podemos visualizar el log, listar bases de datos, etc.</p>
<p>Si echamos un vistazo al directorio <em>data/</em> deberíamos ver algo similar a lo siguiente:</p>
<pre><code>mviera@mongodb:~/mongodb$ ls -l data/
total 8
drwxrwxr-x 2 mviera mviera 4096 Feb  6 01:36 journal
-rwxrwxr-x 1 mviera mviera    5 Feb  6 01:36 mongod.lock
</code></pre>
<p>Actualmente, sólo tendremos un directorio <em>journal/</em> para recuperaciones de<br>
datos en caso de desastre y el fichero <em>mongod.lock</em> que almacena el PID del proceso <em>mongod</em>.</p>
<h2 id="interactuandoconmongodb">Interactuando con MongoDB</h2>
<p>Una vez tenemos nuestra base de datos MongoDB iniciada, el siguiente paso será conectar a ella utilizando la consola o <em>shell</em>, en inglés, de Mongo. Para ello utilizaremos <em>mongo</em> ejecutando la siguiente instrucción:</p>
<pre><code>mviera@mongodb:~/mongodb$ ./bin/mongo
MongoDB shell version: 2.2.3
connecting to: test
Welcome to the MongoDB shell.
For interactive help, type "help".
For more comprehensive documentation, see
    http://docs.mongodb.org/
Questions? Try the support group
    http://groups.google.com/group/mongodb-user
&gt; 
</code></pre>
<p>Si todo va bien, espero que sí, deberíamos ver el prompt de MongoDB. Por<br>
defecto Mongo, si no se le especifica lo contrario, siempre conectará a una<br>
base de datos <strong>test</strong> en la que podremos realizar todas las pruebas que<br>
queramos.</p>
<p>La <em>shell</em> de Mongo es una shell interactiva de JavaScript, por lo que podremos hacer uso de código JavaScript en caso de que nos sea necesario. Es decir, podemos realizar operaciones básicas de JavaScript como las siguientes en la shell de Mongo:</p>
<pre><code>&gt; 2 + 3
5
&gt; 
&gt; 10 * 2
20
&gt; 
&gt; var double = function (n1) { return n1 * n1 }
&gt; double(2)
4
&gt; double
function (n1) {
    return n1 * n1;
}
&gt; stuff = [1, 2, 3, 4]
[ 1, 2, 3, 4 ]
&gt; for (n in stuff) { print( parseInt(n) * 2 ) }
0
2
4
6
&gt; var x = {name: "mviera", age: 26}
&gt; x.age
26
&gt; x.city = "Sevilla"
Sevilla
&gt; x
{ "name" : "mviera", "age" : 26, "city" : "Sevilla" }
</code></pre>
<p><strong>IMPORTANTE:</strong> Estas instrucciones <strong>NO</strong> son de MongoDB, es puro JavaScript. <strong>La consola de MongoDB es una shell interactiva de JavaScript</strong>.</p>
<h2 id="familiarizacinconelentorno">Familiarización con el entorno...</h2>
<p>Bien. Estamos conectados a la consola de Mongo, así que nuestro siguiente paso será crear una base de datos. Podemos comprobar cuál es la base de datos que estamos usando actualmente llamando al objeto <strong>db</strong>:</p>
<pre><code>&gt; db
test
&gt; 
</code></pre>
<p>Crear una base de datos es tan fácil como ejecutar lo siguiente:</p>
<pre><code>&gt; use mydb
switched to db mydb
&gt; db
mydb
&gt; 
</code></pre>
<p>Podemos observar que el valor del objeto <em>db</em> ha cambiado a <strong>mydb</strong>. Lo<br>
siguiente será crear una colección, llamado <em>collection</em> en inglés. Las<br>
colecciones son los contenedores de los documentos en MongoDB. Serían las<br>
conocidas tablas que contienen los datos en las bases de datos relacionales.</p>
<p>Podemos crear una colección de prueba de la siguiente forma:</p>
<pre><code>&gt; db.createCollection("test")
{ "ok" : 1 }
&gt; 
&gt; show collections
system.indexes
test
</code></pre>
<p>Pero en MongoDB no es necesario crear una colección antes de introducir datos por primera vez, ya que Mongo comprobará previamente si existe la colección y si no, la creará automáticamente por nosotros.</p>
<pre><code>&gt; db.test2.insert({username:"mviera"})
&gt; 
&gt; show collections
system.indexes
test
test2
</code></pre>
<p>Como se puede observar, la colección <strong>test2</strong> se ha creado automáticamente al crear el documento <code>{username:"mviera"}</code> dentro de él. Con esto ya he<br>
introducido rápidamente la forma de introducir datos en una colección de<br>
MongoDB. De todas formas, la sintaxis de uso es la siguiente:</p>
<pre><code>db.&lt;nombre_coleccion&gt;.verbo()
</code></pre>
<p>Donde <code>verbo()</code> puede ser:</p>
<ul>
<li><code>insert</code>: para insertar documentos en la colección.</li>
<li><code>find</code>: para buscar o seleccionar documentos dentro de la colección.</li>
<li><code>count</code>: para contar el total de documentos dentro de una colección.</li>
<li><code>update</code>: para actualizar uno o varios documentos dentro de una colección.</li>
<li><code>remove</code>: para eliminar documentos de la colección.</li>
<li><code>drop</code>: para eliminar una colección.</li>
</ul>
<h2 id="hagamosunosejercicios">Hagamos unos ejercicios</h2>
<p>Nuestra base de datos actual se llama <code>mydb</code>:</p>
<pre><code>&gt; db
mydb
&gt; 
</code></pre>
<p>y actualmente nuestra base de datos sólo contiene tres colecciones:<br>
<code>system.indexes</code> (creada por MongoDB automáticamente), <code>test</code> y <code>test2</code>:</p>
<pre><code>&gt; show collections
system.indexes
test
test2
&gt; 
</code></pre>
<p>Crearemos tres documentos que describirán usuarios dentro de una colección que se llamará <code>users</code>. Los datos a almacenar en los documentos serán: username, age (edad), y ciudad. Para ello utilizaremos el método <code>insert</code> y podemos hacerlo de varias formas:</p>
<ol>
<li>
<p>Directamente especificando el documento JSON en el método <code>insert()</code>:</p>
<blockquote>
<p>db.users.insert({username:"mviera",age:26,city:"Sevilla"})<br>
db.users.insert({username:"robot", age:32, city:"Cadiz"})<br>
db.users.insert({username:"testuser", age:20, city:"Malaga"})</p>
</blockquote>
</li>
<li>
<p>Almacenar los documentos en variables JavaScript y posteriormente utilizar dicha variable en <code>insert()</code>:</p>
<pre><code>   &gt; user1 = {username:"mviera",age:26,city:"Sevilla"}
   { "username" : "mviera", "age" : 26, "city" : "Sevilla" }
   &gt; user2 = {username:"robot", age:32, city:"Cadiz"}
   { "username" : "robot", "age" : 32, "city" : "Cadiz" }
   &gt; user3 = {username:"testuser", age:20, city:"Malaga"}
   { "username" : "testuser", "age" : 20, "city" : "Malaga" }
   &gt; 
   &gt; 
   &gt; db.users.insert(user1)
   &gt; db.users.insert(user2)
   &gt; db.users.insert(user3)
</code></pre>
</li>
<li>
<p>Utilizando un for loop de JavaScript en la shell de Mongo para automatizar la tarea:</p>
<pre><code>   &gt; users = [user1, user2, user3]
   &gt; for (i = 0; i &lt; users.length; i++) { db.users.insert(users[i]) }
</code></pre>
</li>
</ol>
<p><strong>Nota:</strong> Realmente en los tres casos hemos hecho lo mismo, pero solamente<br>
quería mostrar la potencia que ofrece la shell de Mongo, una shell de<br>
JavaScript.</p>
<p>Si consultamos de nuevo las colecciones disponibles en nuestra base de datos <code>mydb</code>, podremos observar que MongoDB ha creado la colección <code>users</code> por nosotros, y de forma automática:</p>
<pre><code>&gt; show collections
system.indexes
test
test2
users
&gt; 
</code></pre>
<p>Después de esto, deberíamos ser capaces de saber cuántos documentos hay en lacolección <code>users</code>, pero podemos cerciorarnos utilizando el método <code>count</code> en nuestra colección:</p>
<pre><code>&gt; db.users.count()
3
&gt; 
</code></pre>
<p>¡Perfecto! Eso quiere decir que hasta ahora ha ido todo de maravilla. Ya solo nos falta poder seleccionar dichos documentos, es decir, poder recuperar dicha información de la base de datos. Esto lo conseguiremos con el método <code>find</code>, ejecutando lo siguiente:</p>
<pre><code>&gt; db.users.find()
{ "_id" : ObjectId("51118e261caf692fdfc89517"), "username" : "mviera", "age" : 26, "city" : "Sevilla" }
{ "_id" : ObjectId("51118e261caf692fdfc89518"), "username" : "robot", "age" : 32, "city" : "Cadiz" }
{ "_id" : ObjectId("51118e261caf692fdfc89519"), "username" : "testuser", "age" : 20, "city" : "Malaga" }
&gt; 
</code></pre>
<p>¡Bien! Pero... seguro que os estáis preguntando por ese campo llamado <code>_id</code>... ¿Qué significa?¿Por qué está ahí?</p>
<p>En MongoDB todo documento tiene que tener un <strong>identificador único dentro de la colección</strong> que puede ser especificado explicitamente con el campo <code>_id</code> dentro del documento, y si no se especifica ninguno, Mongo creará uno automáticamente por nosotros sin que tengamos que preocuparnos de ello.</p>
<p>De esta forma, podemos introducir un nuevo documento que sí tenga especificado un <code>_id</code> por nosotros:</p>
<pre><code>&gt; db.users.insert({_id: 101, username:"iloveyou", age: 12, likes: "destroy your computer"})
&gt;
</code></pre>
<p>Y si ahora volvemos a recuperar todos los documentos de la colección <code>users</code>, debería aparecer el nuevo documento en la lista:</p>
<pre><code>&gt; db.users.find()
{ "_id" : ObjectId("51118e261caf692fdfc89517"), "username" : "mviera", "age" : 26, "city" : "Sevilla" }
{ "_id" : ObjectId("51118e261caf692fdfc89518"), "username" : "robot", "age" : 32, "city" : "Cadiz" }
{ "_id" : ObjectId("51118e261caf692fdfc89519"), "username" : "testuser", "age" : 20, "city" : "Malaga" }
{ "_id" : 101, "username" : "iloveyou", "age" : 12, "likes" : "destroy your computer" }
&gt;
</code></pre>
<p>¿Recordáis lo que comentaba al principio sobre <em>schemaless</em>? Si se observa ellistado de documentos anterior, se puede ver que los campos de los tres<br>
primeros documentos son <em>username</em>, <em>age</em> y <em>city</em>. Pero sin embargo, el nuevo documento introducido no solo no utiliza el campo <em>city</em> sino que además incluye uno nuevo llamado <em>likes</em>.</p>
<p>Esto es debido a la flexibilidad que ofrece MongoDB en sus esquemas, es decir, no todos los documentos tienen que tener los mismo campos, sino que pueden incluirse o no ciertos campos según convenga. De hecho, podría haberse incluido el campo <code>city</code> con un valor <code>null</code> pero si no lo incluimos, en el futuro ahorraremos espacio en la base de datos.</p>
<h2 id="retrospectiva">Retrospectiva</h2>
<p>Después de todo esto, algo habrá ocurrido en nuestro directorio <em>data/</em> donde se alojan las bases de datos. Si listamos el contenido del directorio, deberíamos ver algo como lo siguiente:</p>
<pre><code>mviera@mongodb:~/mongodb$ ls -lh data/
total 209M
drwxrwxr-x 2 mviera mviera 4.0K Feb  6 02:40 _tmp
drwxrwxr-x 2 mviera mviera 4.0K Feb  6 03:22 journal
-rwxrwxr-x 1 mviera mviera    0 Feb  6 03:22 mongod.lock
-rw------- 1 mviera mviera  64M Feb  6 03:08 mydb.0
-rw------- 1 mviera mviera 128M Feb  6 02:12 mydb.1
-rw------- 1 mviera mviera  16M Feb  6 03:08 mydb.ns
</code></pre>
<p>Podemos observar que se han creado dos ficheros <code>mydb.0</code> y <code>mydb.1</code> que<br>
contienen los datos; y otro fichero llamado <code>mydb.ns</code> que contiene el<br>
namespace. Si no estoy equivocado, y si lo estoy, por favor corregidme, MongoDB creará nuevos ficheros cuando los actuales ocupen un tamaño de 2G, con el fin de facilitar el traslado de estos fichero a través de la red, etc.</p>
<h2 id="apagayvmonos">Apaga y vámonos</h2>
<p>Por último y para terminar el post, os comentaré cómo podemos para el servidor Mongo de forma correcta. Es muy sencillo, solamente tenemos que cambiar a la base de datos llamada <code>admin</code>:</p>
<pre><code>&gt; use admin
switched to db admin
&gt; db
admin
&gt; 
</code></pre>
<p>y ejecutar el método <code>shutdownServer</code> de la siguiente forma:</p>
<pre><code>&gt; db.shutdownServer()
Wed Feb  6 03:29:30 DBClientCursor::init call() failed
Wed Feb  6 03:29:30 query failed : admin.$cmd { shutdown: 1.0 } to: 127.0.0.1:27017
server should be down...
</code></pre>
<p>¡Y esto es todo por ahora! Espero que el post haya sido de vuestro agrado y<br>
agradeceros a aquellos que hayáis llegado leyendo hasta esta linea. ¡Gracias!</p>
<p>Con respecto a MongoDB es tipo de base de datos nueva para mi y que me está<br>
gustando bastante. Estoy estudiándola y aprendiendo a través de un curso de<br>
10gen, la empresa que la desarrolla. El curso es totalmente gratuito, no se si es posible apuntarse a estas alturas, ya que lleva tres semanas, pero os<br>
recomiendo que lo tengáis en cuenta para próximas ediciones. Podeis encontrarlo en <a href="https://education.10gen.com">https://education.10gen.com</a></p>
<p>¡No olvideis comentar vuestras dudas o sugerencias!</p>
<p>Un saludo, Manu.</p>
<!--kg-card-end: markdown-->
  </div>
    <footer class="single-footer kg-width-normal">
      <div class="single-footer-left">
          <div class="navigation navigation-previous">
            <a class="navigation-link" href="../que-es-un-sparse-file/">
              <svg class="icon navigation-icon"><use xlink:href="#arrow-left"></use></svg>
            </a>
          </div>
      </div>
      <div class="single-footer-middle">
        <div class="single-footer-top">
          <h3 class="single-footer-title">Published by:</h3>
          <div class="author-list">
              <div class="author-image-placeholder u-placeholder square">
                <a href="../../author/mviera/" title="Manuel Viera">
                  <img class="author-image lazyload u-object-fit" data-src="/content/images/size/w150/2020/06/2020-06-22-161222_428x430_scrot.png" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manuel Viera">
                </a>
              </div>
          </div>
        </div>
        <div class="single-footer-bottom">
          <div class="share">
            <a class="share-link share-link-facebook" href="https://www.facebook.com/sharer.php?u=http://manuelviera.com/blog/empezando-con-mongodb/" target="_blank" rel="noopener noreferrer">
              <svg class="icon icon-facebook"><use xlink:href="#facebook"></use></svg>
              Share
            </a>
            <a class="share-link share-link-twitter" href="https://twitter.com/intent/tweet?url=http://manuelviera.com/blog/empezando-con-mongodb/&amp;text=Empezando%20con%20MongoDB" target="_blank" rel="noopener noreferrer">
              <svg class="icon icon-twitter"><use xlink:href="#twitter"></use></svg>
              Tweet
            </a>
          </div>
        </div>
      </div>
      <div class="single-footer-right">
          <div class="navigation navigation-next">
            <a class="navigation-link" href="../empezando-con-mongodb-part-ii/">
              <svg class="icon navigation-icon"><use xlink:href="#arrow-right"></use></svg>
            </a>
          </div>
      </div>
    </footer>
</article>          <section class="related-wrapper kg-width-full">
      <div class="container">
        <div class="kg-width-normal">
          <h3 class="related-title">You might also like...</h3>
          <div class="related-feed">
              <article class="feed post no-image">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Aug
    </div>
    <div class="feed-calendar-day">
      10
    </div>
  </div>
  <h2 class="feed-title">Find and the importance of parameters order</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      1 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../find-and-the-importance-of-parameters-order/"></a>
</article>              <article class="feed post featured">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Aug
    </div>
    <div class="feed-calendar-day">
      02
    </div>
  </div>
  <h2 class="feed-title">Compartiendo ficheros con GlusterFS</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      6 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../compartiendo-ficheros-con-glusterfs-2/"></a>
</article>              <article class="feed post no-image">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Nov
    </div>
    <div class="feed-calendar-day">
      12
    </div>
  </div>
  <h2 class="feed-title">AWS Summit Barcelona 2015</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      7 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../aws-summit-barcelona-2015/"></a>
</article>              <article class="feed post no-image">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Apr
    </div>
    <div class="feed-calendar-day">
      29
    </div>
  </div>
  <h2 class="feed-title">Instalar Solr en Jetty</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      4 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../instalar-solr-en-jetty/"></a>
</article>              <article class="feed post no-image">
  <div class="feed-calendar">
    <div class="feed-calendar-month">
      Mar
    </div>
    <div class="feed-calendar-day">
      02
    </div>
  </div>
  <h2 class="feed-title">Empezando con MongoDB Part.II</h2>
  <div class="feed-right">
    <svg class="icon feed-visibility feed-visibility-public"><use xlink:href="#star"></use></svg>
    <div class="feed-length">
      10 min read
    </div>
  </div>
  <svg class="icon feed-icon"><use xlink:href="#chevron-right"></use></svg>
  <a class="u-permalink" href="../empezando-con-mongodb-part-ii/"></a>
</article>          </div>
        </div>
      </div>
    </section>
        <div class="comment kg-width-narrow">
  <div id="disqus_thread">
    <button class="button button-secondary" onclick="loadDisqus();">Load comments</button>
  </div>
</div>

<script>
  // DON'T EDIT BELOW THIS LINE
  if (themeOptions.disqus_shortname == '') {
    document.querySelector('.comment').remove();
  }
  
  var disqus_config = function () {
    this.page.url = 'http://manuelviera.com/blog/empezando-con-mongodb/';
    this.page.identifier = 'ghost-5ee61de146e19912dcb415eb';
  };

  function loadDisqus() {
    var d = document, s = d.createElement('script');
    s.src = 'https://' + themeOptions.disqus_shortname + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  };
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>  </main>
</div>
      </div>
      <footer class="site-footer">
  <div class="social">
      <a class="social-item social-item-twitter" href="https://twitter.com/mviera" target="_blank" rel="noopener noreferrer">
        <svg class="icon"><use xlink:href="#twitter-box"></use></svg>
      </a>
    <a class="social-item social-item-rss" href="https://feedly.com/i/subscription/feed/http://manuelviera.com/rss/" target="_blank" rel="noopener noreferrer">
      <svg class="icon"><use xlink:href="#rss-box"></use></svg>
    </a>
  </div>

  <div class="copyright">
  Powered by <a href="https://ghost.org/" target="_blank">Ghost</a>
</div>
  <nav class="footer-nav">
    
    <a class="menu-item js-theme" href="index.html#" data-system="System theme" data-dark="Dark theme" data-light="Light theme">
      <svg class="icon theme-icon theme-icon-system"><use xlink:href="#circle-half-full"></use></svg>
      <svg class="icon theme-icon theme-icon-dark"><use xlink:href="#brightness-2"></use></svg>
      <svg class="icon theme-icon theme-icon-light"><use xlink:href="#white-balance-sunny"></use></svg>
      <span class="theme-text">System theme</span>
    </a>
  </nav>
</footer>      <div class="modal-overlay">
  <div class="modal modal-search">
    <div class="form-wrapper">
      <input class="modal-input search-input" type="search" placeholder="Enter keyword...">
      <button class="form-button search-button">
        <svg class="icon icon-search"><use xlink:href="#magnify"></use></svg>
        <svg class="icon icon-close"><use xlink:href="#window-close"></use></svg>
      </button>
    </div>
        <div class="popular-wrapper">
          <h4 class="popular-title">Popular tags</h4>
          <div class="popular-feed">
              <a class="popular" href="../../tag/tech/">tech</a>
              <a class="popular" href="../../tag/self-tracking/">self-tracking</a>
              <a class="popular" href="../../tag/offtopic/">offtopic</a>
          </div>
        </div>
    <div class="search-result"></div>
  </div>
  <button class="button-icon modal-close">
    <svg class="icon icon-close"><use xlink:href="#window-close"></use></svg>
  </button>
</div>      <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg"></div>

  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
      <!-- Container that holds slides. 
          PhotoSwipe keeps only 3 of them in the DOM to save memory.
          Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>

    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter"></div>

        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--share" title="Share"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

        <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip"></div> 
      </div>

      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

      <div class="pswp__caption">
        <div class="pswp__caption__center"></div>
      </div>
    </div>
  </div>
</div>    </div>
  </div>

  <script>
    var body = document.querySelector('body');
    if (window.innerWidth > body.clientWidth + 5) {
      document.documentElement.style.setProperty('--scrollbar', (window.innerWidth - body.clientWidth) + 'px');
    }
  </script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
  </script>
  <script src="../../assets/js/main.min.js?v=06e9a79eee"></script>


  
</body>
