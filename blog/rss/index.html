<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Manuel Viera]]></title><description><![CDATA[I'm Manu and this is my personal lifelog. Here you'll find some tech posts, self-tracking metrics and other random thoughts.]]></description><link>https://manuelviera.com/</link><image><url>https://manuelviera.com/favicon.png</url><title>Manuel Viera</title><link>https://manuelviera.com/</link></image><generator>Ghost 3.19</generator><lastBuildDate>Sun, 03 Jan 2021 16:30:39 GMT</lastBuildDate><atom:link href="https://manuelviera.com/blog/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Media consumption in December 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(13h 17min)</output> and 8 articles.</li>
<li>Watched 0 movies <output>(0 min)</output>, 6 TV episodes <output>(5h 28min)</output> and 1 talk <output>(8 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 5 video games <output>(24h 43min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/How-English-Days-independent-learner-ebook/dp/B07V6F52X1/">How To English: 31 Days to be an independent learner</a> <output>(Adam David Broughton)</output></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-december-2020/</link><guid isPermaLink="false">5ff0a459c3aa8daf2f708ab5</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Thu, 31 Dec 2020 23:00:00 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(13h 17min)</output> and 8 articles.</li>
<li>Watched 0 movies <output>(0 min)</output>, 6 TV episodes <output>(5h 28min)</output> and 1 talk <output>(8 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 5 video games <output>(24h 43min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/How-English-Days-independent-learner-ebook/dp/B07V6F52X1/">How To English: 31 Days to be an independent learner</a> <output>(Adam David Broughton)</output><br>
░░░▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 100%</output></p>
<p><a href="https://www.amazon.es/Los-pelda%C3%B1os-del-%C3%A9xito-COLECCION/dp/8416928185/">Los 88 Peldaños del Éxito</a> <output>(Anxo Pérez Rodríguez)</output><br>
░░░░▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 100%</output></p>
<p><a href="https://www.amazon.es/pasos-contra-sedentarismo-PR%C3%81CTICA-ebook/dp/B086FHCGJS/">3 pasos contra el sedentarismo</a> <output>(Juanje Ojeda)</output><br>
▓▓▓▓▓▓░░░░░░░░░ <output>Progress: 0-40%</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://blog.flyingcircus.io/2017/09/01/how-to-renew-puppet-ca-and-server-certificates-in-place/">How to renew Puppet CA and server certificates in place</a> <output>(Christian Kauhaus)</output></p>
<p><a href="https://clig.dev/">Command Line Interface Guidelines</a> <output>(Aanand Prasad / Ben Firshman / Carl Tashian / Eva Parish)</output><br>
<a href="https://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a> <output>(Chris Beams)</output><br>
<a href="https://iam-j.github.io/jobs/cronjobs-on-ecs/">Cron jobs on Amazon ECS</a> <output>(iam-j)</output><br>
<a href="https://nzeid.net/pulseaudio-disable-auto-volume">Disable PulseAudio Auto Volume</a> <output>(nzeid.net)</output><br>
<a href="https://betterdev.blog/minimal-safe-bash-script-template/">Minimal safe Bash script template</a> <output>(Maciej Radzikowski)</output></p>
<h3 id="recommendedgames">Recommended games</h3>
<p><a href="https://en.wikipedia.org/wiki/Celeste_(video_game)">Celeste</a><br>
Celeste is a platform game in which you controls a girl named Madeleine as she manage to get to the top of a mountain while avoiding so many deadly obstacles. Celeste was released in 2018 and was considered one of the best games of 2018. You'll love this game if you like 8-bit style and challenging games :)</p>
<!--kg-card-end: markdown--><p></p><p></p><p></p>]]></content:encoded></item><item><title><![CDATA[Media consumption in November 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(4h 23min)</output> and 14 articles.</li>
<li>Watched 2 movies <output>(3h 23min)</output>, 6 TV episodes <output>(5h 16min)</output> and 0 talks <output>(0min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(N min)</output>.</li>
<li>Played 2 video games <output>(7h 30min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/How-English-Days-independent-learner-ebook/dp/B07V6F52X1/">How To English: 31 Days to be an independent learner</a> <output>(Adam David Broughton)</output><br>
░░░▓▓▓▓░░░░░░░░ <output>Progress:</output></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-november-2020/</link><guid isPermaLink="false">5fccdcbbf697444ca5856dfb</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Sun, 06 Dec 2020 13:51:53 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(4h 23min)</output> and 14 articles.</li>
<li>Watched 2 movies <output>(3h 23min)</output>, 6 TV episodes <output>(5h 16min)</output> and 0 talks <output>(0min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(N min)</output>.</li>
<li>Played 2 video games <output>(7h 30min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/How-English-Days-independent-learner-ebook/dp/B07V6F52X1/">How To English: 31 Days to be an independent learner</a> <output>(Adam David Broughton)</output><br>
░░░▓▓▓▓░░░░░░░░ <output>Progress: 0-46%</output></p>
<p><a href="https://www.amazon.es/Los-pelda%C3%B1os-del-%C3%A9xito-COLECCION/dp/8416928185/">Los 88 Peldaños del Éxito</a> <output>(Anxo Pérez Rodríguez)</output><br>
░░░░▓▓░░░░░░░░░ <output>Progress: 0-36%</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://relocate.me/blog/resume-interview-tips/10-data-driven-ways-to-use-your-developer-resume-to-get-interviews/">10 Data-Driven Ways to Use Your Developer Resume to Get Interviews</a> <output>(Relocate)</output><br>
<a href="https://lwn.net/Articles/835962/">Deprecating scp</a> <output>(Jonathan Corbet)</output><br>
<a href="https://keleshev.com/my-book-writing-setup/">Writing a Book with Pandoc, Make, and Vim</a> <output>(Vladimir Keleshev)</output><br>
<a href="https://todoist.com/productivity-methods/eat-the-frog">Eat the Frog</a> <output>(Becky Kane / todoist.com)</output><br>
<a href="https://blog.doist.com/quantified-self-apps/">Quantify Yourself: (Mostly) Free Tools &amp; Strategies to Track (Almost) Every Area of Your Life</a> <output>(Willian Molinari / todoist)</output></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Media consumption in October 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(6h 32min)</output> and 12 articles.</li>
<li>Watched 2 movies <output>(3h 25min)</output>, 8 TV episodes <output>(6h 38min)</output> and 1 talks <output>(1h)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 3 video games <output>(13h 48min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/gp/product/B01LXWQUFF/">Docker Deep Dive</a> <output>(Nigel Poulton)</output><br>
░░░░░░░░░░▓▓▓▓▓ <output>Progress: 66%-100%</output></p>
<p><a href="https://www.amazon.es/How-English-Days-independent-learner-ebook/dp/B07V6F52X1/">How To English: 31 Days to</a></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-october-2020/</link><guid isPermaLink="false">5fa57eadac5dc02f8f11b86e</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Fri, 06 Nov 2020 18:06:37 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(6h 32min)</output> and 12 articles.</li>
<li>Watched 2 movies <output>(3h 25min)</output>, 8 TV episodes <output>(6h 38min)</output> and 1 talks <output>(1h)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 3 video games <output>(13h 48min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/gp/product/B01LXWQUFF/">Docker Deep Dive</a> <output>(Nigel Poulton)</output><br>
░░░░░░░░░░▓▓▓▓▓ <output>Progress: 66%-100%</output></p>
<p><a href="https://www.amazon.es/How-English-Days-independent-learner-ebook/dp/B07V6F52X1/">How To English: 31 Days to be an independent learner</a> <output>(Adam David Broughton)</output><br>
▓▓▓░░░░░░░░░░░░ <output>Progress: 0-18%</output></p>
<p><a href="https://www.amazon.es/Los-pelda%C3%B1os-del-%C3%A9xito-COLECCION/dp/8416928185/">Los 88 Peldaños del Éxito</a> <output>(Anxo Pérez Rodríguez)</output><br>
▓▓▓▓░░░░░░░░░░░ <output>Progress: 0-24%</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://blog.doist.com/pay-yourself-first/">Want a More Productive Morning Routine? “Pay” Yourself First</a> <output>(Chase Warrington)</output><br>
<a href="https://blog.strava.com/ten-reasons-to-get-about-by-bike-20347/">Ten reasons to get about by bike</a> <output>(Strava Stories)</output><br>
<a href="https://briantracy.xyz/writing/copy-paste-shell.html">Don't Copy Paste Into A Shell</a> <output>(Brian Tracy)</output><br>
<a href="https://capiche.com/e/markdown-history">The story behind Markdown</a> <output>(Matthew Guay)</output><br>
<a href="https://www.inc.com/jessica-stillman/winter-mental-health-scandinavia.html">It’s Going to Be a Long, Dark Covid Winter. Scandinavian Wisdom Can Help You Get Through It</a> <output>(Jessica Stillman)</output><br>
<a href="https://elpais.com/ciencia/2020-10-24/un-salon-un-bar-y-una-clase-asi-contagia-el-coronavirus-en-el-aire.html">Un salón, un bar y una clase: así contagia el coronavirus en el aire</a> <output>(El País)</output></p>
<h4 id="recommendedmovies">Recommended Movies</h4>
<p><a href="https://www.netflix.com/title/81004797">Hogar</a><output>(Netflix)</output><br>
The Occupant is a Spanish thriller movie about a publicist who's unemployed and is forced to sell his apartment. Then he becomes obsessed with the new occupants and begins spying them with darkers intentions.</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Media consumption in September 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 1 book <output>(3h 40min)</output> and 8 articles.</li>
<li>Watched 7 movies <output>(11h 13min)</output>, 20 TV episodes <output>(16h 30min)</output> and 1 talks <output>(1h)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0min)</output>.</li>
<li>Played 3 video games <output>(16h 47min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/gp/product/B01LXWQUFF/">Docker Deep Dive</a> <output>(Nigel Poulton)</output><br>
░░░▓▓▓▓▓▓▓░░░░░ <output>Progress: 21% - 66%</output></p>
<h4 id="recommendedarticles">Recommended Articles</h4>
<p><a href="https://monicalent.com/blog/2020/04/21/software-developer-resume-tips/">7 software developer resume</a></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-september-2020/</link><guid isPermaLink="false">5f555721d6502f239e907471</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Fri, 02 Oct 2020 21:14:25 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 1 book <output>(3h 40min)</output> and 8 articles.</li>
<li>Watched 7 movies <output>(11h 13min)</output>, 20 TV episodes <output>(16h 30min)</output> and 1 talks <output>(1h)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0min)</output>.</li>
<li>Played 3 video games <output>(16h 47min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/gp/product/B01LXWQUFF/">Docker Deep Dive</a> <output>(Nigel Poulton)</output><br>
░░░▓▓▓▓▓▓▓░░░░░ <output>Progress: 21% - 66%</output></p>
<h4 id="recommendedarticles">Recommended Articles</h4>
<p><a href="https://monicalent.com/blog/2020/04/21/software-developer-resume-tips/">7 software developer resume tips to help you stand out</a> <output>(Monica Lent)</output></p>
<p><a href="https://yodralopez.dev/docker-cheatsheet-v2.pdf">Docker Cheatsheet v2</a> <output>(Yodra López)</output></p>
<p><a href="https://defmacro.substack.com/p/how-to-get-promoted">How to get promoted</a> <output>(Slava Akhmechet)</output></p>
<h4 id="recommendedmovies">Recommended Movies</h4>
<p><a href="https://www.netflix.com/es-en/title/81254224">The Social Dilemma</a> <output>(Netflix)</output><br>
It's a dramatic documentary that <mark>analyzes the dangerous influence that social media have over us</mark>, with experts who talk about these dangerous tools they themselves have created.</p>
<p><a href="https://www.netflix.com/es-en/title/81098822">Money Heist: The Phenomenon</a> <output>(Netflix)</output><br>
A documentary about how &quot;Money Heist&quot; was involved in a wave of emotion and devotion around the world for a group of thieves and their professor. <mark>Recommended if you're a fan of this TV Show</mark>.</p>
<h4 id="recommendedgames">Recommended Games</h4>
<p><a href="https://store.playstation.com/es-es/product/EP8254-CUSA20469_00-CUPHEAD000000000">Cuphead</a> <output>(StudioMDHR)</output><br>
If you're looking for a real challenge this is definitely your game. Cuphead is run and gun video game that was inspired by the style of animation used in cartoons of the 30s. The art style and animations are simply brilliant.</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[PostgreSQL and read-only users - the easiest way]]></title><description><![CDATA[Sometimes someone asks you to create a read-only user to let someone connect and consume data, exporting reports, or whatever. In this post, I'll show you the easiest way to create one.]]></description><link>https://manuelviera.com/blog/postgresql-and-read-only-users-the-easiest-way/</link><guid isPermaLink="false">5f5fdb57db2a88526e3dffce</guid><category><![CDATA[tech]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Sun, 20 Sep 2020 15:54:17 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1519658422992-0c8495f08389?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://images.unsplash.com/photo-1519658422992-0c8495f08389?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="PostgreSQL and read-only users - the easiest way"><p>Here you have the quick recipe:</p>
<pre><code>CREATE ROLE readonly;
GRANT CONNECT ON DATABASE mydatabase TO readonly;
\connect mydatabase
GRANT USAGE ON SCHEMA public to readonly;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO readonly;
CREATE USER myuser1 WITH PASSWORD 'secret_passwd';
GRANT readonly TO myuser1;
</code></pre>
<h2 id="thedeepdive">The deep dive(?)</h2>
<p>Let's suppose you already have a well-securitized database with one or more users with the right privileges. If you still don't have your PostgreSQL database well protected, I recently wrote about <a href="https://manuelviera.com/blog/postgresql-and-how-to-shield-your-databases-well/">how to securitize your database access well</a>. You might find it useful.</p>
<p>Okay, so imagine someone asking you to create a read-only user to let an external provider connect and consume data, exporting reports, or whatever.</p>
<p>As we won't want to repeat all this process each time we need to create a read-only user, we'll create a role and then assign it.</p>
<p>So, for creating the read-only role, just type the following:</p>
<pre><code>CREATE ROLE readonly;
</code></pre>
<p>We want this role to be able to connect to our database, so:</p>
<pre><code>GRANT CONNECT ON DATABASE mydatabase TO readonly;
</code></pre>
<p>But, as you might know, this permission is not enough; we need to allow it to allow access to objects in the <code>public</code> schema.</p>
<pre><code>\connect mydatabase
GRANT USAGE ON SCHEMA public to readonly;
</code></pre>
<p>As we may want to allow it to access all tables in the database, we'll type:</p>
<pre><code>GRANT SELECT ON ALL TABLES IN SCHEMA public TO readonly;
</code></pre>
<p>But, If you only want to give access to specific tables, then type:</p>
<pre><code>GRANT SELECT ON table_name TO readonly;
</code></pre>
<p>Now we have the role ready to use, so we're going to create a user and add it as a member.</p>
<pre><code>CREATE USER myuser1 WITH PASSWORD 'secret_passwd';
GRANT readonly TO myuser1;
</code></pre>
<p>And that's it! Next time you need to create a read-only user it'll be a quick done task ;-)</p>
<hr>
<p>If you have any question, doubt, or any improvement, feel free to let me know in this <a href="https://twitter.com/mviera/status/1307712519860035584">Twitter thread</a> :)</p>
<p>If you found it useful, coffee is always appreciated. Thanks in advance!</p>
<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="mviera" data-color="#eaa700" data-emoji data-font="Arial" data-text="Buy me a coffee" data-outline-color="#000" data-font-color="#000" data-coffee-color="#fff"></script>
<h3 id="moreinfoat">More info at</h3>
<p><a href="https://aws.amazon.com/de/blogs/database/managing-postgresql-users-and-roles/">Managing PostgreSQL users and roles</a></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[PostgreSQL and how to shield your databases well]]></title><description><![CDATA[Security matters, especially in databases. Let me show you how to secure your database in the right way.]]></description><link>https://manuelviera.com/blog/postgresql-and-how-to-shield-your-databases-well/</link><guid isPermaLink="false">5f5e101619f8b01255400608</guid><category><![CDATA[tech]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Sun, 13 Sep 2020 17:09:07 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1515974256630-babc85765b1d?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://images.unsplash.com/photo-1515974256630-babc85765b1d?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="PostgreSQL and how to shield your databases well"><p>The recipe:</p>
<pre><code>CREATE USER myuser with password 'secret_passwd' role postgres;
CREATE DATABASE mydatabase with owner myuser;
\connect mydatabase
REVOKE ALL ON DATABASE mydatabase FROM public;
REVOKE ALL ON SCHEMA public FROM public;    
ALTER SCHEMA public owner to myuser;
REVOKE myuser FROM postgres;
</code></pre>
<hr>
<h2 id="thedeepdive">The deep dive</h2>
<h3 id="firstthingsfirst">First things first</h3>
<p>There are a few things you need to know to understand a bit about how PostgreSQL works.</p>
<ol>
<li>
<p><code>CREATE USER</code> and <code>CREATE GROUP</code> are aliases for the <code>CREATE ROLE</code> statement. A user is just a role with <code>LOGIN</code> privileges.</p>
<pre><code> CREATE USER = CREATE ROLE + LOGIN privilege
</code></pre>
</li>
<li>
<p>PostgreSQL has a <code>public</code> backend role, and every new user and role inherits permissions from it.</p>
</li>
<li>
<p>When a new database is created, PostgreSQL creates a schema called <code>public</code> and grants access on this schema to the <code>public</code> backend role. Mmm... too many things called <em>public</em> here, don't you think?</p>
</li>
<li>
<p>Because of this default behavior, any user can connect to new databases and create objects in each database's <code>public</code> schema.</p>
</li>
</ol>
<h3 id="createtheuser">Create the user</h3>
<pre><code>CREATE USER myuser with password 'secret_passwd' role postgres;
</code></pre>
<p>This statement will create a new user, and it'll add <code>postgres</code> role/user into <code>myuser</code> role. I know, syntax may look confusing.</p>
<h3 id="createthedatabase">Create the database</h3>
<pre><code>CREATE DATABASE mydatabase with owner myuser;
</code></pre>
<p>It creates a new database named <code>mydatabase</code> and makes <code>myuser</code> role the owner.</p>
<h3 id="securizesthedatabase">Securizes the database</h3>
<pre><code>\connect mydatabase
REVOKE ALL ON DATABASE mydatabase FROM public;
REVOKE ALL ON SCHEMA public FROM public;
</code></pre>
<p>Revokes all privileges on the new database and on the <code>public</code> schema to the <code>public</code> role. I mean, this revokes public access to the database.</p>
<h3 id="delegatesownershipofpublicschema">Delegates ownership of <code>public</code> schema</h3>
<pre><code>ALTER SCHEMA public owner to myuser;
</code></pre>
<p>Now the user is the real owner.</p>
<h3 id="thefinalpart">The final part</h3>
<p>Execute this query if you want to revoke access to this database even to <code>postgres</code> user. It's up to you.</p>
<pre><code>REVOKE myuser FROM postgres;
</code></pre>
<p>Remember. After this, even though <code>postgres</code> user, which is the user with more RDS privileges, won't have access to that database. It'll only be accessible for <code>myuser</code> user.</p>
<p>In case you have to operate on it with <code>postgres</code> user, you'll need to grant access for it.</p>
<pre><code>GRANT myuser TO postgres;
</code></pre>
<p>If not, you'll get a <code>permission denied</code> error.</p>
<!--kg-card-end: markdown--><hr><!--kg-card-begin: markdown--><p>If you have any question, doubt, or any improvement I could do, feel free to let me know in this <a href="https://twitter.com/mviera/status/1305246434023870465">Twitter thread</a> :)</p>
<!--kg-card-end: markdown--><!--kg-card-begin: html-->If you found it useful, coffee is always appreciated. Thanks in advance!
<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="mviera" data-color="#eaa700" data-emoji data-font="Arial" data-text="Buy me a coffee" data-outline-color="#000" data-font-color="#000" data-coffee-color="#fff"></script><!--kg-card-end: html--><!--kg-card-begin: markdown--><h3 id="moreinfoat">More info at</h3>
<p><a href="https://aws.amazon.com/de/blogs/database/managing-postgresql-users-and-roles/">Managing PostgreSQL users and roles</a><br>
<a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.PostgreSQL.CommonDBATasks.html#Appendix.PostgreSQL.CommonDBATasks.Access">Managing PostgreSQL Database Access</a><br>
<a href="https://www.postgresql.org/docs/9.0/sql-grant.html">PostgreSQL GRANT Documentation</a><br>
<a href="https://www.postgresql.org/docs/9.1/sql-revoke.html">PostgreSQL REVOKE Documentation</a></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Media consumption in August 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(14h 36 min)</output> and 6 articles.</li>
<li>Watched 3 movies <output>(9h 35 min)</output>, 1 TV episodes <output>(51 min)</output> and 1 talk <output>(19 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 3 video games <output>(30h 41 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/Infrastructure-Code-Comprehensive-Managing-English-ebook/dp/B07WZ5SV99">Infrastructure as Code</a> <output>(Austin Young)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 100%</output></p>
<p><a href="https://www.amazon.es/libro-cerebro-quiere-Crecimiento-personal/dp/8416720622/">El libro que</a></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-august-2020/</link><guid isPermaLink="false">5f29d2384501b8255139fd84</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Mon, 31 Aug 2020 21:40:00 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 3 books <output>(14h 36 min)</output> and 6 articles.</li>
<li>Watched 3 movies <output>(9h 35 min)</output>, 1 TV episodes <output>(51 min)</output> and 1 talk <output>(19 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 3 video games <output>(30h 41 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/Infrastructure-Code-Comprehensive-Managing-English-ebook/dp/B07WZ5SV99">Infrastructure as Code</a> <output>(Austin Young)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 100%</output></p>
<p><a href="https://www.amazon.es/libro-cerebro-quiere-Crecimiento-personal/dp/8416720622/">El libro que tu cerebro no quiere leer</a> <output>(David del Rosario)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 100%</output></p>
<p><a href="https://www.amazon.es/gp/product/B01LXWQUFF/">Docker Deep Dive</a> <output>(Nigel Poulton)</output><br>
▓▓▓░░░░░░░░░░░░ <output>Progress: 21%</output></p>
<h4 id="articles">Articles</h4>
<p><a href="https://www.sovereignman.com/trends/4-countries-welcoming-the-digital-nomads-during-covid-28499/">4 countries welcoming the digital nomads during Covid</a> <output>(Simon Black)</output></p>
<p><a href="https://www.deprocrastination.co/blog/how-to-overcome-procrastination-by-understanding-the-fogg-behavior-model">How to stop procrastinating by using the Fogg Behavior Model</a> <output>(deprocrastination.co)</output></p>
<p><a href="https://www.deprocrastination.co/blog/should-i-quit-video-games">Should I quit video games?</a> <output>(deprocrastination.co)</output></p>
<p><a href="https://www.deprocrastination.co/blog/4-simple-ways-to-make-your-to-do-list-less-overwhelming">4 ways to make your to-do lists less overwhelming</a> <output>(deprocrastination.co)</output></p>
<p><a href="https://www.defensecode.com/public/DefenseCode_Unix_WildCards_Gone_Wild.txt">Back To The Future: Unix Wildcards Gone Wild</a> <output>(Leon Juranic)</output></p>
<h4 id="talk">Talk</h4>
<p><a href="https://www.youtube.com/watch?v=Rai3pwH3XrU">Guillaume Néry: The exhilarating peace of freediving</a> <output>(TED)</output></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Find and the importance of parameters order]]></title><description><![CDATA[Parameter order matters. Especially in commands such as find. This post covers a common problem using find when deleting files and some tips to avoid it.]]></description><link>https://manuelviera.com/blog/find-and-the-importance-of-parameters-order/</link><guid isPermaLink="false">5f54f68bd6502f239e9073e6</guid><category><![CDATA[tech]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Mon, 10 Aug 2020 14:53:00 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1586769852836-bc069f19e1b6?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://images.unsplash.com/photo-1586769852836-bc069f19e1b6?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Find and the importance of parameters order"><p>Someone texted me with this tweet a few weeks ago. It made me remember how important the order of the parameters in some commands could be. Let's see the tweet.</p>
<!--kg-card-end: markdown--><figure class="kg-card kg-embed-card"><blockquote class="twitter-tweet" data-width="550"><p lang="en" dir="ltr">I wanted to delete every file called &quot;contents.html&quot; so I ran:<br><br>find -type f -delete -name contents.html<br><br>It worked! But it also deleted every other file.<br><br>find&#39;s args are ordered. &quot;delete&quot; works on every match before it, ignoring anything after. &quot;name&quot; should have gone first.</p>&mdash; Tomas Sedovic (@TomasSedovic) <a href="https://twitter.com/TomasSedovic/status/1226462687170875398?ref_src=twsrc%5Etfw">February 9, 2020</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</figure><!--kg-card-begin: markdown--><p>As you may have noticed, some commands, such as find, take its parameters in order. So, this command:</p>
<pre><code>find -type f -delete -name contents.html
</code></pre>
<p>is completely different from this another one:</p>
<pre><code>find -type f -name contents.html -delete
</code></pre>
<p><mark>The first one says find to look for every regular file and delete it. The second one says to look for every standard file that matches precisely with <code>contents.html</code> and then delete it.</mark></p>
<p>As Tomas says in his tweet, the first one worked, but unfortunately, deleted all files, which could be a mess in a production system.</p>
<h2 id="sohowtoavoidthiskindofsituation">So, how to avoid this kind of situation?</h2>
<p>First of all, mainly when I'm in a production system, I prefer to start typing a «<code>#</code>» as the first character. Why? Because I want to <mark>avoid executing an unfinished command by hitting the <code>Enter</code> key by mistake</mark>.</p>
<p>Instead of this, I <mark>always print the find's output first to ensure that it finds what we need</mark>.</p>
<pre><code>find -type f -name contents.html -exec echo {} \;
</code></pre>
<p>This command will print the whole list of files which name matches precisely with «contents.html». Once we've ensured the output is ok, then we can delete them.</p>
<pre><code>find -type f -name contents.html -exec rm -f {} \;
</code></pre>
<p>Another alternative to this command could be passing the output through a pipe, and then use xargs and rm.</p>
<pre><code>find -type f -name contents.html | xargs rm -f
</code></pre>
<p>Now you don't have excuses! Don't forget, parameter order matters. When in production systems, I always try not to be creative.</p>
<p>So memorize the commands you usually use and write their parameters always the same order. Always. <mark>Being creative in production is not a good idea</mark>. Don't deal with the devil ;-)</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Media consumption in July 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 1 books <output>(458 min)</output> and 13 articles.</li>
<li>Watched 1 movies <output>(120 min)</output>, 18 TV episodes <output>(819 min)</output> and 2 talks <output>(123 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 2 video games <output>(2135 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/When-Scientific-Secrets-Perfect-Timing/dp/0525542787/">When. The Scientific Secrets Of Perfect Timing</a> <output>(Daniel H Pink)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 0-100%</output></p>
<h4 id="games">Games</h4>]]></description><link>https://manuelviera.com/blog/media-consumption-in-july-2020/</link><guid isPermaLink="false">5f29cb4a4501b8255139fd35</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Tue, 04 Aug 2020 21:09:58 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 1 books <output>(458 min)</output> and 13 articles.</li>
<li>Watched 1 movies <output>(120 min)</output>, 18 TV episodes <output>(819 min)</output> and 2 talks <output>(123 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 2 video games <output>(2135 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/When-Scientific-Secrets-Perfect-Timing/dp/0525542787/">When. The Scientific Secrets Of Perfect Timing</a> <output>(Daniel H Pink)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 0-100%</output></p>
<h4 id="games">Games</h4>
<p><a href="https://www.amazon.es/Ghost-Tsushima-Edici%C3%B3n-Est%C3%A1ndar-Exclusiva/dp/B085LYTVG1/">Ghost of Tsushima</a> <output>(Sucker Punch)</output></p>
<p><a href="https://www.amazon.es/505-Games-Control/dp/B07K3GRFMS/">Control</a> <output>(505 Games)</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://www.inc.com/carmine-gallo/how-to-start-a-successful-negotiation-in-2-words.html">How to Start a Successful Negotiation in 2 Words</a> <output>(Carmine Gallo)</output></p>
<p><a href="http://matthewrocklin.com/blog/work/2020/07/13/brevity">Write to a short attention span Brevity is the soul of wit</a> <output>(Matthew Rocklin)</output></p>
<p><a href="https://www.davidfischer.name/2017/01/python-command-line-apps/">Python Command Line Apps</a> <output>(David Fischer)</output></p>
<p><a href="https://www.inc.com/jeff-haden/5-words-that-make-your-emails-sound-indecisive-wishy-washy.html">5 Words That Make Your Emails Sound Indecisive and Wishy-Washy</a> <output>(Jeff Haden)</output></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Mid-year review of my goals for 2020]]></title><description><![CDATA[Here's a review of how are going on my goals for 2020.]]></description><link>https://manuelviera.com/blog/mid-year-review-of-my-goals-for-2020/</link><guid isPermaLink="false">5f2566f9ba2e251b6d63a742</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Wed, 15 Jul 2020 17:00:00 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1544819667-9bfc1de23d4e?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://images.unsplash.com/photo-1544819667-9bfc1de23d4e?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Mid-year review of my goals for 2020"><p>At the beginning of 2020, I <a href="https://manuelviera.com/blog/list-of-goals-for-2020/">released a list of my goals</a> for the next 365 days. And now, here's a middle year review of <a href="https://manuelviera.com/blog/list-of-goals-for-2020/">the 17 goals I set for this year</a>.</p>
<!--kg-card-end: markdown--><hr><!--kg-card-begin: markdown--><ul>
<li>
<p><strong>Improve my English skills</strong>.<br>
On track: I started taking classes at a local English academy at the beginning of February. I also recovered my account at <a href="https://www.babbel.com/">Babbel</a> and started studying here too. At the end of April, I discovered <a href="https://w.8belts.com/">8Belts</a>. So I started an eight-month course to improve my speaking fluency with them too.</p>
</li>
<li>
<p><strong><s>Travel more</s></strong>.<br>
Failed: due to Covid-19, I'm not traveling this year.</p>
</li>
<li>
<p><strong>Read at least 1 book a month</strong>.<br>
On track: I've already read 10 books this year.</p>
</li>
<li>
<p><strong><s>Swim more kms than 2019</s></strong>.<br>
Failed: due to Covid-19, I stopped swimming. My last swim training was on the 9th of March, 2020.</p>
</li>
<li>
<p><strong>Get back to bodyweight workouts</strong>.<br>
Behind target: due to Covid-19, I'm doing outdoor sports since I finished my personal lockdown. I'm trying to add this kind of workouts but I'm not being consistent weekly.</p>
</li>
<li>
<p><strong><s>Join some obstacle races</s></strong>.<br>
Failed: due to Covid-19, all races were canceled. The one I joined was Spartan Virtual Race which was adapted to take part at home.</p>
</li>
<li>
<p><strong><s>Learn French. Look for some classes</s></strong>.<br>
Failed: Postponed at least till next year.</p>
</li>
<li>
<p><strong>Have more fun time (playing videogames, etc)</strong>.<br>
On track: I'm playing one video game a month.</p>
</li>
<li>
<p><strong>Reduce procrastination</strong>.<br>
On track: Working on it. I still procrastine but less than before. I'm tracking personal metrics to push myself do what I have to do.</p>
</li>
<li>
<p><strong>Improve wellbeing &amp; mental health</strong>.<br>
Behind target: I started doing meditation since March, but I reduced the number of sessions in June and July. I want to get back to it as a daily routine.</p>
</li>
<li>
<p><strong>Start doing yoga 2 or 3 times a week</strong>.<br>
Behind target: I started practicing Yoga in March. I was motivated to do a Yoga session every day in the morning as part of my morning routine. But in June I decreased the number of sessions till zero in July. I want to recover it again as my morning or evening routine.</p>
</li>
<li>
<p><strong>Help people</strong>.<br>
Behing target: I was thinking about doing volunteering. Instead of this, I donated money during the pandemic.</p>
</li>
<li>
<p><strong><s>TheRoot: make a website and publish there my photos</s></strong>.<br>
Removed: I decided not put efforts on it.</p>
</li>
<li>
<p><strong>Get back to blogging in this blog</strong>.<br>
Behind target: I migrated this blog from Hugo to Ghost again. And I'm starting blogging again, but not as much as I'd like.</p>
</li>
</ul>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Media consumption in June 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 1 books <output>(347 min)</output> and 9 articles.</li>
<li>Watched 1 movies <output>(115 min)</output>, 15 TV episodes <output>(1155 min)</output> and 0 talks <output>(0 min)</output>.</li>
<li>Listened to 16 podcasts episodes <output>(617 min)</output>.</li>
<li>Played 2 video games <output>(149 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/Do-Today-Procrastination-Productivity-Meaningful-ebook/dp/B07DRP1Q5W/">Do It Today</a> <output>(Darius Foroux)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 0-100%</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://medium.com/@sawyerh/how-i-export-process-and-resurface-my-kindle-highlights-addc9de9af1a">How I export, analyze,</a></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-june-2020/</link><guid isPermaLink="false">5f29c3a34501b8255139fcc1</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Mon, 06 Jul 2020 18:00:00 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 1 books <output>(347 min)</output> and 9 articles.</li>
<li>Watched 1 movies <output>(115 min)</output>, 15 TV episodes <output>(1155 min)</output> and 0 talks <output>(0 min)</output>.</li>
<li>Listened to 16 podcasts episodes <output>(617 min)</output>.</li>
<li>Played 2 video games <output>(149 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/Do-Today-Procrastination-Productivity-Meaningful-ebook/dp/B07DRP1Q5W/">Do It Today</a> <output>(Darius Foroux)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 0-100%</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://medium.com/@sawyerh/how-i-export-process-and-resurface-my-kindle-highlights-addc9de9af1a">How I export, analyze, and resurface my Kindle highlights</a> <output>(Sawyer Hollenshead)</output></p>
<p><a href="https://www.imore.com/how-i-use-shortcuts-automations-make-life-run-more-smoothly">How I use Shortcuts automations to make life run more smoothly</a> <output>(Joseph Keller)</output></p>
<p><a href="https://blog.cloudflare.com/why-is-there-a-v-in-sigsegv-segmentation-fault/">Why is there a &quot;V&quot; in SIGSEGV Segmentation Fault?</a> <output>(Marek Majkowski &amp; David Wragg)</output></p>
<p><a href="https://www.inc.com/jessica-stillman/your-emails-are-36-percent-more-likely-to-get-a-reply-if-you-close-them-this-way.html">Your Emails Are 36 Percent More Likely to Get a Reply If You Close Them This Way</a> <output>(Jessica Stillman / Inc.com)</output></p>
<h4 id="recommendedvideogames">Recommended video games</h4>
<p><a href="https://www.amazon.es/The-Last-of-us-Hits/dp/B07FF8XJWT/">The Last of Us: Remastered</a> <output>(Naughty Dog)</output></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Media consumption in May 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 2 books <output>(222 min)</output> and 7 articles.</li>
<li>Watched 0 movies <output>(0 min)</output>, 0 TV episodes <output>(0 min)</output> and 6 talks <output>(1373 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 3 video games <output>(592 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/THINK-STRAIGHT-Change-Thoughts-English-ebook/dp/B077NJWFR3/">Think Straight</a> <output>(Darius Foroux)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 0-100%</output></p>
<p><a href="https://www.amazon.es/Mi-cuaderno-estoico-prosperar-control-ebook/dp/B07VN9SL4M/">Mi cuaderno estoico</a> <output>(Massimo Pigliucci)</output><br>
▓░░░░░░░░░░░░░░ <output>Progress: 0-7%</output></p>]]></description><link>https://manuelviera.com/blog/media-consumption-in-may/</link><guid isPermaLink="false">5f26defaba2e251b6d63a7a1</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Wed, 03 Jun 2020 22:00:00 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Read 2 books <output>(222 min)</output> and 7 articles.</li>
<li>Watched 0 movies <output>(0 min)</output>, 0 TV episodes <output>(0 min)</output> and 6 talks <output>(1373 min)</output>.</li>
<li>Listened to 0 podcasts episodes <output>(0 min)</output>.</li>
<li>Played 3 video games <output>(592 min)</output>.</li>
</ul>
<h4 id="books">Books</h4>
<p><a href="https://www.amazon.es/THINK-STRAIGHT-Change-Thoughts-English-ebook/dp/B077NJWFR3/">Think Straight</a> <output>(Darius Foroux)</output><br>
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ <output>Progress: 0-100%</output></p>
<p><a href="https://www.amazon.es/Mi-cuaderno-estoico-prosperar-control-ebook/dp/B07VN9SL4M/">Mi cuaderno estoico</a> <output>(Massimo Pigliucci)</output><br>
▓░░░░░░░░░░░░░░ <output>Progress: 0-7%</output></p>
<h4 id="recommendedarticles">Recommended articles</h4>
<p><a href="https://ohdear.app/blog/resolving-the-addtrust-external-ca-root-certificate-expiration">Resolving the AddTrust External CA Root certificate expiration</a> <output>(Mattias Geniar)</output></p>
<p><a href="https://www.usenix.org/sites/default/files/conference/protected-files/lisa19_maheshwari.pdf">Linux Productivity Tools</a> <output>(Ketan M.)</output></p>
<p><a href="https://thenewstack.io/bare-metal-in-a-cloud-native-world/">Bare Metal in a Cloud Native World</a> <output>(Alex Ellis/The New Stack)</output></p>
<h4 id="recommendedtalk">Recommended Talk</h4>
<p><a href="https://www.youtube.com/watch?v=Avcligc5Cjo">The 8 Belts Method | TEDxCibeles</a> <output>(Anxo Pérez)</output></p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[List of goals for 2020]]></title><description><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Improve my English skills.<br>
This is <mark>my number one goal for this year</mark>. I want to start taking English classes.</li>
<li>Travel more.<br>
Make plans over calendar. Take WowTrips (or similar) into account for weekend trips.</li>
<li>Read at least 1 book a month.</li>
<li>Swim more kms than 2019.</li>
<li>Get back to</li></ul>]]></description><link>https://manuelviera.com/blog/list-of-goals-for-2020/</link><guid isPermaLink="false">5f251ec4ba2e251b6d63a6f4</guid><category><![CDATA[self-tracking]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Mon, 06 Jan 2020 23:00:00 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><ul>
<li>Improve my English skills.<br>
This is <mark>my number one goal for this year</mark>. I want to start taking English classes.</li>
<li>Travel more.<br>
Make plans over calendar. Take WowTrips (or similar) into account for weekend trips.</li>
<li>Read at least 1 book a month.</li>
<li>Swim more kms than 2019.</li>
<li>Get back to bodyweight workouts.</li>
<li>Join some obstacle races.</li>
<li>Learn French. Look for some classes.</li>
<li>Improve wellbeing &amp; mental health.</li>
<li>Have more fun time (playing videogames, etc).</li>
<li>Reduce procrastination.</li>
<li>Read more tech articles every week.</li>
<li>Start doing meditation.</li>
<li>Start doing yoga 2 or 3 times a week.</li>
<li>Help people.</li>
<li>TheRoot: make a website and publish there my photos.</li>
<li>Get back to blogging in this blog.</li>
</ul>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Compartiendo ficheros con GlusterFS]]></title><description><![CDATA[<!--kg-card-begin: markdown--><p>Cuando aparece la necesidad de escalar una aplicación web, o cualquier otro servicio, en Internet; también aparecen nuevos problemas a resolver que antes incluso ni habíamos reparado en ellos. Uno de estos problemas es <strong>la compartición de ficheros</strong> entre servidores.</p>
<p>En mi opinión, a día de hoy éste sigue siendo</p>]]></description><link>https://manuelviera.com/blog/compartiendo-ficheros-con-glusterfs-2/</link><guid isPermaLink="false">5ee79a5311a5bb564c241b61</guid><category><![CDATA[tech]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Tue, 02 Aug 2016 00:00:00 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1569235186275-626cb53b83ce?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://images.unsplash.com/photo-1569235186275-626cb53b83ce?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Compartiendo ficheros con GlusterFS"><p>Cuando aparece la necesidad de escalar una aplicación web, o cualquier otro servicio, en Internet; también aparecen nuevos problemas a resolver que antes incluso ni habíamos reparado en ellos. Uno de estos problemas es <strong>la compartición de ficheros</strong> entre servidores.</p>
<p>En mi opinión, a día de hoy éste sigue siendo un dolor de cabeza para muchos Sysadmins o Systems Architects. Hay muchas formas de compartir ficheros entre servidores como NFS, S3FS, FileConveyor, un crontab con un rsync entre servidores. Hay muchas soluciones, algunas mejores y otras peores; pero hoy quería compartir la que hasta ahora creo que puede ser una buena solución para compartir ficheros, usando <strong>GlusterFS</strong>.</p>
<p><a href="https://www.glusterfs.org">GlusterFS</a> es un sistema de ficheros escalable en red, con el que poder crear soluciones de almacenamiento distribuidos por la red y de gran capacidad. Ni que decir tiene que <strong>GlusterFS</strong> es software libre.</p>
<h2 id="antesdeempezar">Antes de empezar</h2>
<p>Normalmente en los despliegues que hacemos en AWS en <a href="http://crononauta.com">Crononauta</a>, siempre utilizamos un mínimo de un par de instancias EC2 para el sistema de almacenamiento en red con <strong>GlusterFS</strong>. Además, a cada una de estas dos instancias EC2, hacemos <em>attach</em> de un disco EBS donde almacenaremos los ficheros en el clúster de ficheros en red. Esto nos permite tener <strong>redundancia</strong> en los datos, <strong>alta disponibilidad</strong> y <strong>escalabilidad horizontal</strong> en el servicio. Con lo cual, tendremos un par de instancias que mantienen en clúster de almacenamiento actuando como GlusterFS Server y por otro lado, tendremos los clientes de GlusterFS que montarán este volumen compartido por la red.</p>
<p>Como detalle, en <strong>Crononauta</strong> siempre usamos Debian como distribución, en este caso contamos con una Debian 8 (Jessie), aunque es totalmente aplicable a cualquier distribución basada en Debian como Ubuntu y/o derivadas.</p>
<p>Una vez tenemos esto, podemos empezar a trabajar... ;-)</p>
<h2 id="particionandolosdiscos">Particionando los discos</h2>
<p>Utilizaremos <strong>XFS</strong> como sistema de ficheros para el volumen compartido en red. Por lo que necesitaremos instalar las utilidades para trabajar con XFS, si no las tenemos ya instaladas.</p>
<pre><code>apt-get install xfsprogs
</code></pre>
<p>El siguiente paso será crear una partición en el volumen, en mi caso es <code>/dev/xvdf</code>. Usaremos <code>fdisk</code> para ello:</p>
<pre><code>fdisk /dev/xvdf
</code></pre>
<p>y una vez en la shell interactiva de <code>fdisk</code>, teclearemos:</p>
<ol>
<li><code>n</code> para crear una nueva partición. No necesitamos especificar nada más, así que los siguientes datos que pide podemos usar los valores por defecto que ofrece <code>fdisk</code>, asi que pulsaremos <code>Intro</code> hasta finalizar. Una vez hecho esto, seguiremos dentro de la shell interactiva de <code>fdisk</code>, y habremos creado una partición primaria que ocupa todo el espacio del volumen.</li>
<li><code>w</code> indicando que queremos escribir esta definición de partición en el disco y hacerla efectiva.</li>
</ol>
<p>Ya tenemos la partición en el volumen, así que ahora la formatearemos y la añadiremos a nuestro <code>/etc/fstab</code> para montarla en cada arranque del sistema. Seguiremos los siguientes pasos:</p>
<pre><code>mkfs.xfs -i size=512 /dev/xvdf1
mkdir -p /export/brick1
echo &quot;/dev/xvdf1 /export/brick1 xfs defaults 1 2&quot;  &gt;&gt; /etc/fstab
mount -a &amp;&amp; mount
</code></pre>
<h2 id="instalandoglusterfs">Instalando GlusterFS</h2>
<p>Ya tenemos el volumen preparado para GlusterFS, ahora instalaremos el servicio.</p>
<pre><code>apt-get update
apt-get install glusterfs-server glusterfs-client glusterfs-common
</code></pre>
<p>Importante realizar este paso en aquellas instancias / servidores que vayan a actuar como un GlusterFS Server.</p>
<p>Lo siguiente que haremos será configurar nuestro fichero <code>/etc/hosts</code> para definir unos nombres DNS para nuestros GlusterFS Servers. También es posible hacerlo con un DNS interno. Si vuestros servidores, como en el caso de AWS EC2, contáis con IPs privadas, mejor usar esas. Si no, podéis usar las IPs pública.</p>
<p>Definiremos algo como lo siguiente en <code>/etc/hosts</code>:</p>
<pre><code>xxx.xxx.xxx.xxx    gfs01.example.com
xxx.xxx.xxx.xxx    gfs02.example.com
</code></pre>
<h2 id="unanilloparagobernarlosatodos">Un anillo para gobernarlos a todos</h2>
<p>Ya tenemos GlusterFS preparado para ser configurado. Ahora tendremos que configurar el <em>anillo de confianza</em> entre ambos servidores GlusterFS Server. Para ello serán necesarios los siguientes pasos:</p>
<ol>
<li>
<p>Desde <code>gfs01.example.com</code>:</p>
<pre><code> gluster peer probe gfs02.example.com
</code></pre>
</li>
<li>
<p>Desde <code>gfs02.example.com</code>:</p>
<pre><code> gluster peer probe gfs01.example.com
</code></pre>
</li>
</ol>
<p>Es <strong>muy importante</strong> que haya conectividad entre ambos servidores, en caso contrario, los comandos anteriores fallarán. Si estás en AWS, asegúrate de tener bien configurado el <strong>Security Group</strong> para ambas instancias de storage.</p>
<p>Si todo ha ido bien, tendremos el pool de confianza funcionando, así que lo siguiente será definir el volumen compartido. Usaremos la siguiente instrucción desde uno de los servidores GlusterFS:</p>
<pre><code>gluster volume create gv0 replica 2 gfs01.example.com:/export/brick1/&lt;volume-name&gt; gfs02.example.com:/export/brick1/&lt;volumen-name»
</code></pre>
<p>Por último, iniciaremos el volumen que justo acabamos de crear:</p>
<pre><code>gluster volume start gv0
</code></pre>
<p>Como detalle, podemos ver información sobre el volumen con la siguiente instrucción:</p>
<pre><code>gluster volume info
</code></pre>
<p>Llegados a este punto, el cluster de almacenamiento debe estar totalmente operativo. Si queremos hacer una prueba, es posible crear el punto de montaje hacia el volumen compartido y probar si se replican correctamente los ficheros. Crearemos el punto de montaje en <code>gfs01.example.com</code> de la siguiente forma:</p>
<pre><code>mount -t glusterfs localhost:/gv0 /mnt
</code></pre>
<p>Ahora crearemos ficheros para comprobar si el funcionamiento de GlusterFS es correcto. Con la siguiente instrucción crearemos diez ficheros vacíos en el punto de montaje previamente creado:</p>
<pre><code>touch /mnt/test-file{1..10}.txt
</code></pre>
<p>Si GlusterFS funciona correctamente, debemos poder ver estos mismos ficheros en <code>gfs02.example.com</code> en el directorio <code>/export/brick1/&lt;volume-name&gt;</code>.</p>
<h2 id="configurandolosclientes">Configurando los clientes</h2>
<p>Nos falta muy poco para terminar, ya sólo nos falta configurar los clientes de GlusterFS. Necesitaremos tener instalado el cliente de GlusterFS <code>glusterfs-client</code> si no lo tenemos instalado.</p>
<pre><code>apt-get install glusterfs-client
</code></pre>
<p>Hecho esto, podremos probar a montar el volumen compartido por la red, y si todo va bien debemos ver los ficheros de prueba creados previamente.</p>
<pre><code>mount -t glusterfs gfs01.example.com:/gv0 /mnt
</code></pre>
<p>Por último, necesitaremos un script <code>/etc/init.d/glusterfs-mount</code> que se encargue de montar el volumen compartido. En mi caso suelo utilizar el siguiente script:</p>
<pre><code>#! /bin/bash
### BEGIN INIT INFO
# Provides:          glusterfs-mount
# Required-Start:    $remote_fs $syslog
# Required-Stop:     $remote_fs $syslog
# Default-Start:     2 3 4 5 
# Default-Stop:      0 1 6 
# Short-Description: Start daemon at boot time
# Description:       Enable service provided by daemon.
### END INIT INFO
#

MOUNTPOINT=&quot;/var/www/shared&quot;
GLUSTERFS_SERVER=&quot;gfs01.example.com&quot;
GLUSTERFS_VOLUME=&quot;gv0&quot;

# Some things that run always at boot
mount -t glusterfs $GLUSTERFS_SERVER:/$GLUSTERFS_VOLUME $MOUNTPOINT
#
# Uncomment this line if you need to start Apache after mount glusterFS volume
# service apache2 start
#
# Carry out specific functions when asked to by the system
case &quot;$1&quot; in
  start)
    echo &quot;Mounting glusterfs volumes &quot;
    mount -t glusterfs $GLUSTERFS_SERVER:/$GLUSTERFS_VOLUME $MOUNTPOINT
    ;;
  stop)
    echo &quot;Unmount glusterfs volumes&quot;
    umount $MOUNTPOINT
    ;;
  *)
    echo &quot;Usage: /etc/init.d/glusterfs-mount {start|stop}&quot;
    exit 1
    ;;
esac
exit 0
</code></pre>
<p>Ya solo nos queda dar permisos de ejecución a nuestro script y configurarlo para que se ejecute durante el inicio del sistema:</p>
<pre><code>chmod +x /etc/init.d/glusterfs-mount
update-rc.d glusterfs-mount defaults
</code></pre>
<h3 id="faq">FAQ</h3>
<ul>
<li><strong>Q:</strong> No puedo crear el anillo de confianza. Los comandos <code>gluster peer probe</code> terminan fallando con un timeout ¿Qué ocurre?</li>
</ul>
<ul>
<li><strong>A:</strong> Es muy probable que sea un problema de conectividad entre ambos GlusterFS Servers. Revisa si hay algún firewall entre ellos que pueda estar bloqueando conexiones TCP y UDP<br>
entre ellos. Puedes ver los puertos abiertos con <code>netstat -ntlp</code>.</li>
</ul>
<p>Si estás en AWS, asegúrate que el <strong>Security Group</strong> que usan ambas instancias tienen permitidos los accesos a puerto TCP y UDP entre ellos.</p>
<ul>
<li><strong>Q:</strong> No puedo montar el volumen compartido desde las instancias que actuan como clientes. El comando <code>mount</code> responde con <code>mount failed</code>. ¿Qué puede estar ocurriendo?</li>
</ul>
<ul>
<li><strong>A:</strong> Al igual que con los servidores GlusterFS, revisa que las instancias clientes tienen conectividad con los servidores. GlusterFS suele abrir un rango de puertos para cada volumen exportado (gv0, gv1, gv2, etc). Es recomendable permitir todo el tráfico TCP y UDP entre las instancias clientes y servidor. De otra forma es probable que alguna vez tengamos problemas al montar los volumenes.</li>
</ul>
<ul>
<li><strong>Q:</strong> Sigo sin poder crear el punto de montaje desde las instancias clientes. El comando <code>mount</code> indica que hubo un problema. La conectividad entre cliente y servidor de GlusterFS es correcta ¿Qué problema puede haber?</li>
</ul>
<ul>
<li><strong>A:</strong> Es muy común que las versiones de las distribuciones entre cliente y servidor difieran. Si esto es así, es muy probable que la versión de <code>glusterfs-client</code> difiera de la versión de <code>glusterfs-server</code>. En este caso, es muy probable que no podamos montar el volumen compartido con el driver <code>glusterfs</code>.</li>
</ul>
<p>GlusterFS permite montar los volumenes con el driver de NFS. En este tipo de situaciones es normal recurrir al driver de NFS para crear el punto de montaje. Para ello se necesita tener instalado <code>nfs-common</code> y crear el punto de montaje con la siguiente instrucción:</p>
<pre><code>mount -t nfs gfs01.example.com:/gv0 /var/www/shared
</code></pre>
<ul>
<li><strong>Q:</strong> ¿Por qué crear un script en <code>/etc/init.d</code> pudiendo configurar el montaje en el fichero <code>/etc/fstab</code>?</li>
</ul>
<ul>
<li><strong>A:</strong> Sí, es posible configurar el punto de montaje en <code>/etc/fstab</code>, pero a diferencia del resto de punto de montajes, en este caso se trata de un volumen compartido por la red. Es muy probable que cuando se monten los volumenes de <code>/etc/fstab</code>, aún no esté disponible la red en el sistema, con lo cual el montaje no solo fallará, sino que además es posible que ralentize el arranque del sistema hasta que el intento de montar el volumen por la red de un Timeout. Por eso es más fiable hacerlo con un script en <code>init.d</code>, una vez la red ya esté disponible.</li>
</ul>
<p>Creo que esto es todo. ¿Encontráis algún otro problema? ¡Dejadlo en los comentarios!<br>
Saludos.</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[AWS Summit Barcelona 2015]]></title><description><![CDATA[<!--kg-card-begin: markdown--><p>No suelo viajar mucho por trabajo pero, desde que trabajo en Crononauta, siempre subo a Barcelona varias veces al año. Y además de trabajar, esta vez hemos aprovechado para asistir al <strong>AWS Summit 2015 Barcelona</strong>.</p>
<p>El evento de Amazon Web Services, tuvo lugar durante todo la jornada del Jueves 5</p>]]></description><link>https://manuelviera.com/blog/aws-summit-barcelona-2015/</link><guid isPermaLink="false">5ee798b111a5bb564c241b3a</guid><category><![CDATA[tech]]></category><dc:creator><![CDATA[Manuel Viera]]></dc:creator><pubDate>Thu, 12 Nov 2015 00:00:00 GMT</pubDate><content:encoded><![CDATA[<!--kg-card-begin: markdown--><p>No suelo viajar mucho por trabajo pero, desde que trabajo en Crononauta, siempre subo a Barcelona varias veces al año. Y además de trabajar, esta vez hemos aprovechado para asistir al <strong>AWS Summit 2015 Barcelona</strong>.</p>
<p>El evento de Amazon Web Services, tuvo lugar durante todo la jornada del Jueves 5 de Noviembre en Fira de Barcelona, Montjuïc. Nunca había estado en Fira Barcelona, con lo cual me impresionó el edificio, el salon de actos principal y toda la organización del evento. Especialmente el catering, que me pareció muy bueno. La calidad de la comida era bastante buena, y en ningún momento faltó de nada. En todo momento había snacks, zumos, agua, café y bollería.</p>
<p>En cuanto al evento, el AWS Summit Barcelona fue inaugurado por Guillem Veiga, Head of AWS en Iberia, con una breve introducción de todo lo que íbamos a poder ver durante la jornada.</p>
<h3 id="awsreinvent2015">AWS re:Invent 2015</h3>
<p>Luego vino <strong>Jeff Barr</strong>, el Chief Evangelist de AWS; que muchos lo conocemos ser quien administra y publica en el blog de AWS. Quién mejor que él, que lleva 13 años trabajando en AWS, para contarnos cómo ha ido evolucionando AWS a lo largo de estos años. Entre otras cosas nos contaba cómo en 2007 AWS sólo contaba con tres servicios (EC2, RDS y S3), y actualmente en 2015 cuentan con más de 50 servicios, operando en 11 regiones diferentes. Jeff fue dando paso a ponencias como la de <strong>Luis Bosque</strong> de <strong>CartoDB</strong>, que nos explicó cómo funciona CartoDB, el volumen de datos que manejan y por qué decidieron migrar a AWS; o los chicos de <strong>BEEVA</strong> que nos enseñaron su proyecto de Big Data con algoritmos de Machine Learning para ofrecer información útil a sus clientes sobre ventas de artículos por zonas, o incluso ventas de productos relacionados con su sector.</p>
<h3 id="awssecurity">AWS Security</h3>
<p>A continuación vino <strong>Bill Murray</strong>, pero no el actor de cine, sino el director de AWS Security. Lo que más me llamó la atención de su ponencia fue la presentación de un nuevo producto llamado <strong>Amazon Inspector</strong> que, de momento, está en &quot;preview&quot; y sólo está disponible en la región US West (Oregon).</p>
<p><strong>Amazon Inspector</strong> te permite analizar el comportamiento de las aplicaciones que ejecutas en AWS y te ayuda a identificar fallos potenciales de seguridad.</p>
<p>Básicamente te permite instalar un agente en las instancias EC2, para poder<br>
ejecutar una serie de checks que te ayudarán a comprobar la seguridad de tu<br>
plataforma. Bill nos enseñó algunos checks básicos como el login SSH con root.</p>
<p>Una vez se ejecutan estos checks, te permite realizar un análisis general de la seguridad de la plataforma.</p>
<p>De momento este servicio está algo limitado, porque<br>
los agentes sólo pueden ser instalados en Amazon Linux AMI 2015.03 (o<br>
posteriores) o Ubuntu Server 14.04 LTS, de momento.</p>
<h3 id="todoloquenecesitassabersobreautoscaling">Todo lo que necesitas saber sobre Autoscaling</h3>
<p>Seguro que si has trabajado ya sobre AWS, esto ya te suene de algo, o al menos ese era mi caso. Realmente el tema de Autoscaling es un servicio, sin coste adicional, que ofrece AWS dentro de EC2; y que permite que tu infraestructura escale horizontalmente, siempre y cuando esté preparada para ello, claro está.</p>
<p>Realmente, que una plataforma pueda escalar horizontalmente, no sólo depende de que configuremos o no el Autoscaling en EC2. Para que una plataforma pueda escalar horizontalmente debe estar bien diseñada, tanto a nivel de sistemas, separando los servicios / stack de software de forma inteligente; como a nivel de código, porque la aplicación también debe estar preparada para escalar.</p>
<p>Si tenemos bien resuelta esta parte, AWS nos proporciona los componentes<br>
necesarios para escalar nuestra aplicación de forma más o menos sencilla,<br>
configurando los siguientes componentes:</p>
<ul>
<li>
<p><strong>Launch Configuration</strong>: permite definir la &quot;template&quot; de instancia EC2 que vamos a arrancar, en caso de que necesitemos auto escalar. Podremos definir qué AMI queremos usar, almacenamiento,<br>
security group, etc.</p>
</li>
<li>
<p><strong>Auto Scaling Group</strong>: permite crear un grupo de Autoscaling basado en un Launch Configuration.<br>
Básicamente podemos definir el número mínimo de instancias en el grupo de auto escalado, número máximo de instancias, zonas de disponibilidad sobre la que vamos a operar, si queremos añadir las instancias bajo un balanceador o ELB (Elastic Load Balancer), etc.</p>
</li>
<li>
<p><strong>CloudWatch Alarms</strong>: <strong>CloudWatch</strong> es el servicio de monitorización de AWS. Es un servicio que no supone coste adicional, siempre que no activemos el <em>Detailed Monitoring</em>. Nos permitirá monitorizar nuestro Autoscaling Group, y en base a las alertas que configuremos, nuestra plataforma será capaz de lanzar nuevas instancias cuando sea necesario. Por ejemplo, podremos arrancar un par de instancias más en el caso de que el uso de CPU del grupo de Autoscaling supere el 80% durante 10 minutos, y volver a eliminarlas cuando la CPU del Autoscaling group baje del<br>
40% durante 15 minutos.</p>
</li>
</ul>
<p>Últimamente he trabajado mucho con esto, así que seguramente le dedique un post donde pueda entrar más en detalle.</p>
<h3 id="gestionandocontainersaescala">Gestionando Containers a Escala</h3>
<p>En esta Live Demo se presentaba el servicio <strong>EC2 Container Service</strong>, que<br>
permite desplegar, gestionar y escalar contenedores <strong>Docker</strong> donde ejecutar aplicaciones, servicios o simplemente scripts para realizar cálculos.</p>
<p>En mi caso aún no tengo muchos conocimientos sobre Docker, pero si has trabajado con él, te facilitará la gestión de clusters de contenedores en varias instancias EC2. Aunque si esto no te gusta siempre puedes montar Docker desde cero en una instancia EC2.</p>
<p>La demo que hizo el ponente era desplegar una página web sencilla dentro de un cluster Docker. Podéis desplegar esta aplicación de ejemplo desde el Dashboard de ECS.</p>
<p><strong>ECS</strong> básicamente te abstrae de todo lo referente a la administración de Docker, y te permite definir un cluster en unos cuantos pasos sencillos. Durante estos pasos puedes elegir la memoria asignada a cada contenedor, mapeo de puertos que se suele hacer en Docker, usar un ELB (balanceador) para el cluster, e incluso definir la cantidad y tipo de instancias EC2 en las que queremos alojar el cluster.</p>
<p>En mi caso me apunto estudiar este servicio, porque la verdad es que los<br>
conocimientos que tengo de él son bastante básicos.</p>
<h3 id="desplieguecontinuoenaws">Despliegue Continuo en AWS</h3>
<p>En esta Live Demo se presentaban tres servicios: <strong>AWS CodeCommit</strong>, <strong>AWS<br>
CodePipeline</strong> y <strong>AWS CodeDeploy</strong>. Estos tres servicios están dentro de la categoría de <em>Developers Tools</em> y permiten alojar código fuente, Integración Continua y deploy de código, respectivamente. A decir verdad me perdí la demo de los dos primeros, pero pude asistir a la de <strong>AWS CodeDeploy</strong>.</p>
<p><strong>CodeDeploy</strong> permite desplegar código fuente de forma relativamente sencilla. En muy resumidas cuentas, este servicio se basa en tener<br>
un agente ejecutándose en cada una de las instancias y, una vez configurado un <em>Deployment Group</em>, es posible especificar una URL hacía un fichero zip alojado en un Bucket de S3 o repositorio Github. Mediante un fichero de configuración, que debe ir dentro del repositorio de código, podremos indicar al agente dónde desplegar el código, o incluso ejecutar comandos tras realizar el deploy, en un <em>post-hook</em>.</p>
<p><strong>CodeDeploy</strong> permite configurar cuándo un deployment se considera &quot;ok&quot; o &quot;fallido&quot;.</p>
<ul>
<li><strong>One at a Time</strong>: se considera un deployment fallido si falla en al menos una de las instancias del <em>Deployment Group</em>.</li>
<li><strong>Half at a Time</strong>: se considera fallido si falla en la mitad de las instancias del <em>Deployment Group</em>.</li>
<li><strong>All at Once</strong>: se considera deployment fallido si falla en todas las instancias del <em>Deployment Group</em>.</li>
</ul>
<p>Quizás una de las cosas que no me convencen de CodeDeploy es que se necesita tener un agente con un puerto abierto en cada instancia, lo cual puede añadir un punto de fallo en cuanto a seguridad; y que, si no estoy equivocado, no tiene opción de rollback. Si algo va mal, la única opción es volver a desplegar una versión del código que sepamos que funciona bien.</p>
<h3 id="utilizandospotinstancesdeamazonec2">Utilizando Spot Instances de Amazon EC2</h3>
<p>Las spot instances han avanzado mucho desde que fueron introducidas por primera vez. Normalmente el precio las instancias EC2, al margen del tipo de instancia que se elija con más o menos recursos; varia en función del <em>modelo de compra</em> de la instancia. Puede ser <em>On Demand</em>, <em>Reserved</em>, o <em>Spot Instances</em></p>
<p>Las instancias <em>On Demand</em> son las de uso más común. Simplemente cada tipo de instancia en la modalidad de <em>On Demand</em> tienen un precio fijo. Si arrancas una instancia <em>On Demand</em> sabes que el precio que AWS te cobra es el especificado en la documentación, y el coste total dependerá del tiempo que esté esa instancia en modo <em>Running</em>.</p>
<p>Pero también existe la modalidad de <em>Spot Instances</em>. Para no hacer muy pesada la explicación, básicamente consiste en fijar el precio que te gustaría pagar por un tipo de instancia, y en el momento en que el precio de mercado esté por debajo del precio que hayas establecido, podrás arrancar instancias de ese tipo a ese precio. Es como jugar a bolsa, cuando las acciones caigan por debajo de un umbral de dinero, compro acciones.</p>
<p>La modalidad <em>Spot Instances</em> es muy llamativa a la hora de aplicarla con un Autoscaling Group, pues podríamos conseguir ahorros bastante significativos, arrancando <em>Spot Instances</em> cuando el precio caiga, y mientras tanto seguir usando <em>On Demand</em>.</p>
<h3 id="amazonelasticfilesystem">Amazon Elastic Filesystem</h3>
<p><strong>Amazon Elastic Filesystem</strong> es uno de los servicios que llevo esperando mucho tiempo. De momento, no está disponible en Ireland pero espero que lo estrenen en Europa de aquí a unos meses.</p>
<p>Uno de los principales problemas a resolver cuando trabajas en una<br>
infraestructura con escalabilidad horizontal, es la compartición de ficheros entre instancias. Hasta ahora mucha gente se ha configurado su propio cluster NFS, GlusterFS, e incluso he llegado a ver soluciones que usan un Bucket S3 junto con <em>s3fs</em>, lo cual me parece muy arriesgado, porque se ha demostrado que no funciona muy bien. Precisamente esto es lo que viene a resolver <strong>EFS</strong>.</p>
<p>Al igual que con el resto de servicios, podremos abstraernos de la creación del cluster de ficheros y del storage de éste. En pocos minutos podemos contar con un punto de montaje con varios Terabytes y con una SLA muy alta. Este servicio realmente se basa en <em>NSFv4</em>. Estoy deseando poder probar este servicio en algún proyecto, hacer pruebas de carga y ver si realmente funciona tan bien como se espera, o si tendré que seguir usando mi propio cluster de GlusterFS para compartir ficheros entre instancias.</p>
<p>Y creo que esto es todo, la verdad es que mola mucho asistir a este tipo de<br>
eventos, porque no todo es resolver tickets, leer documentación, gestionar<br>
alertas y atender clientes. En este tipo de charlas siempre se abre un poco la mente, sobre todo escuchando las experiencias de los demás, en este caso con AWS.</p>
<p>En breve escribiré posts relacionados con Amazon Web Services, y espero poder entrar mucho más en detalle.</p>
<p>Un saludo!</p>
<!--kg-card-end: markdown-->]]></content:encoded></item></channel></rss>